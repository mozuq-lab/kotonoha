/// PolitenessLevel ãƒ†ã‚¹ãƒˆ
///
/// TASK-0067: AIå¤‰æ›APIã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå®Ÿè£…
/// ã€TDD Redãƒ•ã‚§ãƒ¼ã‚ºã€‘: TC-067-017
///
/// ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: ğŸ”µ é’ä¿¡å·ï¼ˆinterfaces.dartãƒ™ãƒ¼ã‚¹ï¼‰
/// é–¢é€£è¦ä»¶: REQ-903
library;

import 'package:flutter_test/flutter_test.dart';
import 'package:kotonoha_app/features/ai_conversion/domain/models/politeness_level.dart';

void main() {
  group('PolitenessLevel ãƒ†ã‚¹ãƒˆ', () {
    // =========================================================================
    // TC-067-017: PolitenessLevel enumãŒæ­£ã—ãå‹•ä½œã™ã‚‹
    // =========================================================================

    group('TC-067-017: PolitenessLevel enumãŒæ­£ã—ãå‹•ä½œã™ã‚‹', () {
      // ã€ãƒ†ã‚¹ãƒˆç›®çš„ã€‘: PolitenessLevelã®enumå€¤ã¨nameå¤‰æ›ãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèª
      // ã€ãƒ†ã‚¹ãƒˆå†…å®¹ã€‘: casual, normal, politeã®å„å€¤ãŒAPIä»•æ§˜ã«æº–æ‹ ã—ãŸnameå€¤ã‚’æŒã¤
      // ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€‘: enumã®nameãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãŒãã®ã¾ã¾å°æ–‡å­—ã®APIå€¤ã¨ã—ã¦ä½¿ç”¨å¯èƒ½
      // ğŸ”µ é’ä¿¡å·: interfaces.dartã€api-endpoints.mdã«æ˜ç¢ºã«å®šç¾©

      test('casualã®å€¤ãŒæ­£ã—ã„', () {
        // ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€‘: casualãƒ¬ãƒ™ãƒ«ã‚’å–å¾—
        // ã€åˆæœŸæ¡ä»¶è¨­å®šã€‘: REQ-903ã§å®šç¾©ã•ã‚ŒãŸ3æ®µéšã®1ã¤
        final level = PolitenessLevel.casual;

        // ã€çµæœæ¤œè¨¼ã€‘: nameå€¤ãŒAPIã§ä½¿ç”¨ã•ã‚Œã‚‹"casual"ã¨ä¸€è‡´ã™ã‚‹
        // ã€ç¢ºèªå†…å®¹ã€‘: snake_caseå¤‰æ›ãªã—ã§ãã®ã¾ã¾ä½¿ç”¨å¯èƒ½ ğŸ”µ
        expect(level.name, 'casual');
      });

      test('normalã®å€¤ãŒæ­£ã—ã„', () {
        // ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€‘: normalãƒ¬ãƒ™ãƒ«ã‚’å–å¾—
        // ã€åˆæœŸæ¡ä»¶è¨­å®šã€‘: REQ-903ã§å®šç¾©ã•ã‚ŒãŸ3æ®µéšã®1ã¤
        final level = PolitenessLevel.normal;

        // ã€çµæœæ¤œè¨¼ã€‘: nameå€¤ãŒAPIã§ä½¿ç”¨ã•ã‚Œã‚‹"normal"ã¨ä¸€è‡´ã™ã‚‹
        // ã€ç¢ºèªå†…å®¹ã€‘: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ä¸å¯§ã•ãƒ¬ãƒ™ãƒ« ğŸ”µ
        expect(level.name, 'normal');
      });

      test('politeã®å€¤ãŒæ­£ã—ã„', () {
        // ã€ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿æº–å‚™ã€‘: politeãƒ¬ãƒ™ãƒ«ã‚’å–å¾—
        // ã€åˆæœŸæ¡ä»¶è¨­å®šã€‘: REQ-903ã§å®šç¾©ã•ã‚ŒãŸ3æ®µéšã®1ã¤
        final level = PolitenessLevel.polite;

        // ã€çµæœæ¤œè¨¼ã€‘: nameå€¤ãŒAPIã§ä½¿ç”¨ã•ã‚Œã‚‹"polite"ã¨ä¸€è‡´ã™ã‚‹
        // ã€ç¢ºèªå†…å®¹ã€‘: æœ€ã‚‚ä¸å¯§ãªãƒ¬ãƒ™ãƒ« ğŸ”µ
        expect(level.name, 'polite');
      });

      test('displayNameãŒæ—¥æœ¬èªã§æ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹', () {
        // ã€ãƒ†ã‚¹ãƒˆç›®çš„ã€‘: UIè¡¨ç¤ºç”¨ã®æ—¥æœ¬èªåãŒæ­£ã—ã„ã“ã¨ã‚’ç¢ºèª
        // ã€ãƒ†ã‚¹ãƒˆå†…å®¹ã€‘: å„ãƒ¬ãƒ™ãƒ«ã®displayNameå€¤ã‚’æ¤œè¨¼
        // ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€‘: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«è¡¨ç¤ºã™ã‚‹æ—¥æœ¬èªåãŒé©åˆ‡ã«è¨­å®šã•ã‚Œã‚‹
        // ğŸ”µ é’ä¿¡å·: interfaces.dartã«å®šç¾©

        // ã€ç¢ºèªå†…å®¹ã€‘: casual = "ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«" ğŸ”µ
        expect(PolitenessLevel.casual.displayName, 'ã‚«ã‚¸ãƒ¥ã‚¢ãƒ«');

        // ã€ç¢ºèªå†…å®¹ã€‘: normal = "æ™®é€š" ğŸ”µ
        expect(PolitenessLevel.normal.displayName, 'æ™®é€š');

        // ã€ç¢ºèªå†…å®¹ã€‘: polite = "ä¸å¯§" ğŸ”µ
        expect(PolitenessLevel.polite.displayName, 'ä¸å¯§');
      });

      test('enumã®valuesãŒ3ã¤å­˜åœ¨ã™ã‚‹', () {
        // ã€ãƒ†ã‚¹ãƒˆç›®çš„ã€‘: REQ-903ã®3æ®µéšè¦ä»¶ã‚’æº€ãŸã™ã“ã¨ã‚’ç¢ºèª
        // ã€ãƒ†ã‚¹ãƒˆå†…å®¹ã€‘: PolitenessLevel.valuesã®è¦ç´ æ•°ã‚’æ¤œè¨¼
        // ã€æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œã€‘: ä¸åº¦3ã¤ã®å€¤ãŒå­˜åœ¨ã™ã‚‹
        // ğŸ”µ é’ä¿¡å·: REQ-903ã«æ˜ç¢ºã«ã€Œ3æ®µéšã€ã¨å®šç¾©

        // ã€ç¢ºèªå†…å®¹ã€‘: 3æ®µéšã®ä¸å¯§ã•ãƒ¬ãƒ™ãƒ«ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹ ğŸ”µ
        expect(PolitenessLevel.values.length, 3);
      });
    });
  });
}
