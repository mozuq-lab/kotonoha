import 'package:hive/hive.dart';

part 'history_item.g.dart';

/// ã€ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®šç¾©ã€‘: å±¥æ­´ã‚¢ã‚¤ãƒ†ãƒ 
/// ã€å®Ÿè£…å†…å®¹ã€‘: æ–‡å­—ç›¤å…¥åŠ›ãƒ»å®šå‹æ–‡ãƒ»AIå¤‰æ›çµæœã®å±¥æ­´ã‚’ä¿å­˜ã™ã‚‹ãŸã‚ã®ãƒ‡ãƒ¼ã‚¿ã‚¯ãƒ©ã‚¹
/// ã€Hiveè¨­å®šã€‘: typeId 0 ã¨ã—ã¦ç™»éŒ²ã€å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«@HiveFieldã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ä»˜ä¸
/// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - REQ-601ã€interfaces.dartã®Historyã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«åŸºã¥ã
@HiveType(typeId: 0)
class HistoryItem extends HiveObject {
  /// ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©ã€‘: ä¸€æ„è­˜åˆ¥å­
  /// ã€å®Ÿè£…å†…å®¹ã€‘: UUIDå½¢å¼ã®æ–‡å­—åˆ—IDï¼ˆå±¥æ­´ã®ä¸€æ„æ€§ã‚’ä¿è¨¼ï¼‰
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - interfaces.dartã«åŸºã¥ã
  @HiveField(0)
  final String id;

  /// ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©ã€‘: èª­ã¿ä¸Šã’ãƒ»è¡¨ç¤ºã—ãŸãƒ†ã‚­ã‚¹ãƒˆå†…å®¹
  /// ã€å®Ÿè£…å†…å®¹ã€‘: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ–‡å­—ç›¤ã§å…¥åŠ›ã—ãŸãƒ†ã‚­ã‚¹ãƒˆã€ã¾ãŸã¯å®šå‹æ–‡ãƒ»AIå¤‰æ›çµæœã®ãƒ†ã‚­ã‚¹ãƒˆ
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - REQ-601ã«åŸºã¥ã
  @HiveField(1)
  final String content;

  /// ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©ã€‘: ä½œæˆæ—¥æ™‚ï¼ˆèª­ã¿ä¸Šã’ãƒ»è¡¨ç¤ºã—ãŸæ—¥æ™‚ï¼‰
  /// ã€å®Ÿè£…å†…å®¹ã€‘: å±¥æ­´ãŒä½œæˆã•ã‚ŒãŸæ—¥æ™‚ï¼ˆæœ€å¤å±¥æ­´ã®å‰Šé™¤ã«ä½¿ç”¨ï¼‰
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - REQ-602ï¼ˆ50ä»¶ä¸Šé™ç®¡ç†ï¼‰ã«åŸºã¥ã
  @HiveField(2)
  final DateTime createdAt;

  /// ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©ã€‘: å±¥æ­´ã®ç¨®é¡
  /// ã€å®Ÿè£…å†…å®¹ã€‘: æ–‡å­—ç›¤å…¥åŠ›ã€å®šå‹æ–‡ã€AIå¤‰æ›çµæœç­‰ã‚’åŒºåˆ¥
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - dataflow.mdã®å±¥æ­´ç®¡ç†ãƒ•ãƒ­ãƒ¼ã«åŸºã¥ã
  @HiveField(3)
  final String type; // 'manualInput', 'preset', 'aiConverted', 'quickButton'

  /// ã€ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©ã€‘: ãŠæ°—ã«å…¥ã‚Šãƒ•ãƒ©ã‚°
  /// ã€å®Ÿè£…å†…å®¹ã€‘: å±¥æ­´ã‹ã‚‰ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ ã•ã‚ŒãŸå ´åˆã«true
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - REQ-603ï¼ˆå±¥æ­´ã‹ã‚‰ãŠæ°—ã«å…¥ã‚Šç™»éŒ²ï¼‰ã«åŸºã¥ã
  @HiveField(4)
  final bool isFavorite;

  /// ã€ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿ã€‘: HistoryItemç”Ÿæˆ
  /// ã€å®Ÿè£…å†…å®¹ã€‘: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’åˆæœŸåŒ–ï¼ˆisFavoriteã®ã¿ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤falseï¼‰
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹TC-004ã€œTC-008ã®è¦ä»¶ã«åŸºã¥ã
  HistoryItem({
    required this.id,
    required this.content,
    required this.createdAt,
    required this.type,
    this.isFavorite = false,
  });

  /// ã€copyWithãƒ¡ã‚½ãƒƒãƒ‰ã€‘: ä¸å¤‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®éƒ¨åˆ†æ›´æ–°
  /// ã€å®Ÿè£…å†…å®¹ã€‘: ä¸€éƒ¨ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿å¤‰æ›´ã—ãŸæ–°ã—ã„HistoryItemã‚’ç”Ÿæˆ
  /// ã€ãƒ†ã‚¹ãƒˆå¯¾å¿œã€‘: TC-006ï¼ˆå‰Šé™¤ãƒ†ã‚¹ãƒˆï¼‰ã€TC-007ï¼ˆ50ä»¶ä¸Šé™ãƒ†ã‚¹ãƒˆï¼‰ã§ä½¿ç”¨
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - Dartã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«åŸºã¥ã
  HistoryItem copyWith({
    String? id,
    String? content,
    DateTime? createdAt,
    String? type,
    bool? isFavorite,
  }) {
    return HistoryItem(
      id: id ?? this.id,
      content: content ?? this.content,
      createdAt: createdAt ?? this.createdAt,
      type: type ?? this.type,
      isFavorite: isFavorite ?? this.isFavorite,
    );
  }

  /// ã€ç­‰ä¾¡æ€§æ¯”è¼ƒã€‘: ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç­‰ä¾¡æ€§ã‚’åˆ¤å®š
  /// ã€å®Ÿè£…å†…å®¹ã€‘: idãŒåŒã˜ã§ã‚ã‚Œã°åŒã˜HistoryItemã¨ã¿ãªã™
  /// ã€ãƒ†ã‚¹ãƒˆå¯¾å¿œã€‘: TC-004ã€TC-005ã®èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - Dartã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«åŸºã¥ã
  @override
  bool operator ==(Object other) =>
      identical(this, other) ||
      other is HistoryItem &&
          runtimeType == other.runtimeType &&
          id == other.id;

  /// ã€ãƒãƒƒã‚·ãƒ¥ã‚³ãƒ¼ãƒ‰ã€‘: ç­‰ä¾¡æ€§æ¯”è¼ƒã®ãŸã‚ã®ãƒãƒƒã‚·ãƒ¥å€¤
  /// ã€å®Ÿè£…å†…å®¹ã€‘: idã®ãƒãƒƒã‚·ãƒ¥å€¤ã‚’è¿”ã™
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - Dartã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã«åŸºã¥ã
  @override
  int get hashCode => id.hashCode;

  /// ã€æ–‡å­—åˆ—è¡¨ç¾ã€‘: ãƒ‡ãƒãƒƒã‚°ç”¨æ–‡å­—åˆ—è¡¨ç¾
  /// ã€å®Ÿè£…å†…å®¹ã€‘: å…¨ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’å«ã‚€æ–‡å­—åˆ—ã‚’è¿”ã™
  /// ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: é’ä¿¡å· - ãƒ‡ãƒãƒƒã‚°ãƒ»ãƒ­ã‚°å‡ºåŠ›ã®ãŸã‚
  @override
  String toString() {
    return 'HistoryItem(id: $id, content: $content, createdAt: $createdAt, type: $type, isFavorite: $isFavorite)';
  }
}
