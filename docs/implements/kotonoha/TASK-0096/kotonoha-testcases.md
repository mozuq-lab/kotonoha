# TASK-0096: ã‚«ãƒãƒ¬ãƒƒã‚¸ç¢ºèªãƒ»ãƒ†ã‚¹ãƒˆè£œå®Œ - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸

## 1. ã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬çµæœã‚µãƒãƒªãƒ¼

### 1.1 å…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸çµæœ

| å¯¾è±¡ | Line Coverage | ç›®æ¨™ | é”æˆçŠ¶æ³ |
|---|---|---|---|
| **Frontend (Flutter)** | **87.83%** (2554/2908) | 80%ä»¥ä¸Š | âœ… **é”æˆ** |
| **Backend (FastAPI)** | **83%** (365/439) | 90%ä»¥ä¸Š | âš ï¸ **æœªé”** |

### 1.2 ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»APIã‚«ãƒãƒ¬ãƒƒã‚¸çµæœ

#### Frontend é‡ç‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆç›®æ¨™: 90%ä»¥ä¸Šï¼‰

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | Coverage | ç›®æ¨™ | é”æˆçŠ¶æ³ |
|---|---|---|---|
| `preset_phrase_repository.dart` | 100.0% (20/20) | 90% | âœ… é”æˆ |
| `settings_provider.dart` | 100.0% (35/35) | 90% | âœ… é”æˆ |
| `input_buffer_provider.dart` | 100.0% (16/16) | 90% | âœ… é”æˆ |
| `preset_phrase_notifier.dart` | 94.3% (66/70) | 90% | âœ… é”æˆ |
| `theme_provider.dart` | 92.3% (12/13) | 90% | âœ… é”æˆ |
| `network_provider.dart` | 87.8% (36/41) | 90% | âš ï¸ æœªé” |
| `favorite_provider.dart` | 85.0% (34/40) | 90% | âš ï¸ æœªé” |
| `history_provider.dart` | 82.8% (24/29) | 90% | âš ï¸ æœªé” |
| `tts_provider.dart` | 82.4% (28/34) | 90% | âš ï¸ æœªé” |
| `ai_conversion_provider.dart` | 75.6% (31/41) | 90% | âŒ æœªé” |

#### Backend é‡ç‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆç›®æ¨™: 90%ä»¥ä¸Šï¼‰

| ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« | Coverage | ç›®æ¨™ | é”æˆçŠ¶æ³ |
|---|---|---|---|
| `api/v1/endpoints/ai.py` | 90% (45/50) | 90% | âœ… é”æˆ |
| `core/config.py` | 97% (36/37) | 90% | âœ… é”æˆ |
| `core/logging_config.py` | 100% (15/15) | 90% | âœ… é”æˆ |
| `schemas/ai_conversion.py` | 100% (58/58) | 90% | âœ… é”æˆ |
| `schemas/health.py` | 100% (15/15) | 90% | âœ… é”æˆ |
| `models/ai_conversion_history.py` | 96% (23/24) | 90% | âœ… é”æˆ |
| `models/ai_conversion_logs.py` | 97% (30/31) | 90% | âœ… é”æˆ |
| `models/error_logs.py` | 94% (17/18) | 90% | âœ… é”æˆ |
| `core/rate_limit.py` | 85% (39/46) | 90% | âš ï¸ æœªé” |
| `db/session.py` | 84% (16/19) | 90% | âš ï¸ æœªé” |
| `api/v1/endpoints/health.py` | 76% (16/21) | 90% | âŒ æœªé” |
| `api/deps.py` | 67% (4/6) | 90% | âŒ æœªé” |
| `core/security.py` | **0%** (0/18) | 90% | âŒ **æœªé”ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |
| `utils/exceptions.py` | **0%** (0/17) | 90% | âŒ **æœªé”ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |
| `db/base.py` | **0%** (0/4) | 90% | âŒ **æœªé”ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |
| `utils/__init__.py` | **0%** (0/2) | 90% | âŒ **æœªé”ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |

## 2. ã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³ç®‡æ‰€ã®è©³ç´°åˆ†æ

### 2.1 Frontend ã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³ç®‡æ‰€ï¼ˆ<80%ï¼‰

#### ã‚«ãƒ†ã‚´ãƒªåˆ¥é›†è¨ˆ

| ã‚«ãƒ†ã‚´ãƒª | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | å„ªå…ˆåº¦ |
|---|---|---|
| Models (Data Classes) | 7 | é«˜ |
| Widgets (UI Components) | 6 | ä¸­ |
| Others (Constants, Utils) | 6 | ä½ |
| Screens (Pages) | 2 | é«˜ |
| Services | 2 | é«˜ |
| Providers/Notifiers | 1 | æœ€é«˜ |

#### å„ªå…ˆåº¦ï¼šæœ€é«˜ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | Coverage | Missing Lines | å„ªå…ˆåº¦ |
|---|---|---|---|
| `ai_conversion_provider.dart` | 75.6% (31/41) | 10 | P0 |

#### å„ªå…ˆåº¦ï¼šé«˜ï¼ˆãƒ¢ãƒ‡ãƒ«ãƒ»ç”»é¢ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | Coverage | Missing Lines | å„ªå…ˆåº¦ |
|---|---|---|---|
| `favorite.dart` (Model) | 22.2% (6/27) | 21 | P1 |
| `history.dart` (Model) | 3.7% (1/27) | 26 | P1 |
| `preset_phrase_screen.dart` | 1.8% (1/55) | 54 | P1 |
| `home_screen.dart` | 64.9% (48/74) | 26 | P1 |
| `connectivity_service.dart` | 50.0% (4/8) | 4 | P1 |
| `volume_service.dart` | 75.0% (12/16) | 4 | P2 |

#### å„ªå…ˆåº¦ï¼šä¸­ï¼ˆWidgetsã€Adaptersï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | Coverage | Missing Lines | å„ªå…ˆåº¦ |
|---|---|---|---|
| `favorite_item_adapter.dart` | 76.0% (19/25) | 6 | P2 |
| `history_item_adapter.dart` | 78.6% (22/28) | 6 | P2 |
| `preset_phrase.dart` (Model) | 55.6% (10/18) | 8 | P2 |
| `error_dialog.dart` | 75.6% (65/86) | 21 | P2 |
| `clear_confirmation_dialog.dart` | 76.9% (10/13) | 3 | P2 |
| `phrase_list_item.dart` | 75.8% (25/33) | 8 | P2 |

#### å„ªå…ˆåº¦ï¼šä½ï¼ˆConstantsï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | Coverage | Missing Lines | å„ªå…ˆåº¦ |
|---|---|---|---|
| `app_colors.dart` | 0.0% (0/1) | 1 | P3 |
| `app_sizes.dart` | 0.0% (0/1) | 1 | P3 |
| `favorite_ui_constants.dart` | 0.0% (0/1) | 1 | P3 |
| `history_ui_constants.dart` | 0.0% (0/1) | 1 | P3 |
| `phrase_constants.dart` | 0.0% (0/3) | 3 | P3 |
| `quick_response_constants.dart` | 0.0% (0/1) | 1 | P3 |

### 2.2 Backend ã‚«ãƒãƒ¬ãƒƒã‚¸ä¸è¶³ç®‡æ‰€ï¼ˆ<90%ï¼‰

#### å„ªå…ˆåº¦ï¼šæœ€é«˜ï¼ˆæœªãƒ†ã‚¹ãƒˆãƒ»ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | Coverage | Missing Lines | å„ªå…ˆåº¦ |
|---|---|---|---|
| `core/security.py` | **0%** (0/18) | 18 | **P0ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |
| `utils/exceptions.py` | **0%** (0/17) | 17 | **P0ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |
| `db/base.py` | **0%** (0/4) | 4 | **P0ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |
| `utils/__init__.py` | **0%** (0/2) | 2 | **P0ï¼ˆæœªãƒ†ã‚¹ãƒˆï¼‰** |

#### å„ªå…ˆåº¦ï¼šé«˜ï¼ˆAPIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»é‡è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰

| ãƒ•ã‚¡ã‚¤ãƒ« | Coverage | Missing Lines | å„ªå…ˆåº¦ |
|---|---|---|---|
| `api/v1/endpoints/health.py` | 76% (16/21) | 5 | P1 |
| `api/deps.py` | 67% (4/6) | 2 | P1 |
| `core/rate_limit.py` | 85% (39/46) | 7 | P1 |
| `db/session.py` | 84% (16/19) | 3 | P1 |

## 3. è¿½åŠ ãŒå¿…è¦ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

### 3.1 Backend ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆå„ªå…ˆåº¦é †ï¼‰

#### P0: æœªãƒ†ã‚¹ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®åŸºæœ¬ãƒ†ã‚¹ãƒˆï¼ˆæœ€å„ªå…ˆï¼‰

##### TC-CV-001: core/security.py ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/core/test_security.py`
- **ãƒ†ã‚¹ãƒˆæ•°**: 8ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 1.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-001-001 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ãƒ†ã‚¹ãƒˆ | `verify_password()`ã¨`get_password_hash()`ã®æ­£å¸¸ç³» | Unit |
| TC-CV-001-002 | ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰æ¤œè¨¼å¤±æ•—ãƒ†ã‚¹ãƒˆ | ä¸æ­£ãªãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã§ã®æ¤œè¨¼å¤±æ•— | Unit |
| TC-CV-001-003 | JWTãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆãƒ†ã‚¹ãƒˆ | `create_access_token()`ã®æ­£å¸¸ç³» | Unit |
| TC-CV-001-004 | JWTãƒˆãƒ¼ã‚¯ãƒ³æ¤œè¨¼ãƒ†ã‚¹ãƒˆ | ãƒˆãƒ¼ã‚¯ãƒ³ã®ãƒ‡ã‚³ãƒ¼ãƒ‰ã¨æœ‰åŠ¹æœŸé™ãƒã‚§ãƒƒã‚¯ | Unit |
| TC-CV-001-005 | JWTãƒˆãƒ¼ã‚¯ãƒ³æœŸé™åˆ‡ã‚Œãƒ†ã‚¹ãƒˆ | æœŸé™åˆ‡ã‚Œãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼å¤±æ•— | Unit |
| TC-CV-001-006 | ä¸æ­£ãªJWTãƒˆãƒ¼ã‚¯ãƒ³ãƒ†ã‚¹ãƒˆ | æ”¹ã–ã‚“ã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã®æ¤œè¨¼å¤±æ•— | Unit |
| TC-CV-001-007 | ã‚«ã‚¹ã‚¿ãƒ ã‚¯ãƒ¬ãƒ¼ãƒ ä»˜ããƒˆãƒ¼ã‚¯ãƒ³ | è¿½åŠ ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ | Unit |
| TC-CV-001-008 | ç©ºãƒ‡ãƒ¼ã‚¿ã§ã®ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ | ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ï¼šç©ºdictã§ã®ãƒˆãƒ¼ã‚¯ãƒ³ç”Ÿæˆ | Edge |

##### TC-CV-002: utils/exceptions.py ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/utils/test_exceptions.py`
- **ãƒ†ã‚¹ãƒˆæ•°**: 6ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-002-001 | ã‚«ã‚¹ã‚¿ãƒ ä¾‹å¤–ã®ç”Ÿæˆãƒ†ã‚¹ãƒˆ | å„ä¾‹å¤–ã‚¯ãƒ©ã‚¹ã®æ­£å¸¸ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ– | Unit |
| TC-CV-002-002 | ä¾‹å¤–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ†ã‚¹ãƒˆ | ä¾‹å¤–ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹ | Unit |
| TC-CV-002-003 | ä¾‹å¤–ã®HTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ | å„ä¾‹å¤–ã«é©åˆ‡ãªHTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒè¨­å®šã•ã‚Œã‚‹ | Unit |
| TC-CV-002-004 | ä¾‹å¤–ã®ç¶™æ‰¿é–¢ä¿‚ãƒ†ã‚¹ãƒˆ | ä¾‹å¤–ã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿é–¢ä¿‚ãŒæ­£ã—ã„ | Unit |
| TC-CV-002-005 | ä¾‹å¤–ã®å†raise ãƒ†ã‚¹ãƒˆ | ä¾‹å¤–ãŒæ­£ã—ãraiseã•ã‚Œã‚‹ | Unit |
| TC-CV-002-006 | ä¾‹å¤–ã®è©³ç´°æƒ…å ±ãƒ†ã‚¹ãƒˆ | è¿½åŠ ã®è©³ç´°æƒ…å ±ãŒå«ã¾ã‚Œã‚‹ | Unit |

##### TC-CV-003: db/base.py ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/db/test_base.py`
- **ãƒ†ã‚¹ãƒˆæ•°**: 3ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-003-001 | Baseãƒ¢ãƒ‡ãƒ«ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | Baseã‚¯ãƒ©ã‚¹ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-003-002 | ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã®ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | metadataãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-003-003 | Baseã‚¯ãƒ©ã‚¹ã®ç¶™æ‰¿ãƒ†ã‚¹ãƒˆ | ä»–ã®ãƒ¢ãƒ‡ãƒ«ãŒBaseã‚’ç¶™æ‰¿ã§ãã‚‹ | Unit |

#### P1: APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»é‡è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã®è£œå®Œãƒ†ã‚¹ãƒˆ

##### TC-CV-004: api/v1/endpoints/health.py è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/api/v1/endpoints/test_health.py` (æ—¢å­˜ã«è¿½åŠ )
- **ãƒ†ã‚¹ãƒˆæ•°**: 5ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-004-001 | DBæ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ | DBãŒåˆ‡æ–­ã•ã‚Œã¦ã„ã‚‹å ´åˆã®å¿œç­” | Integration |
| TC-CV-004-002 | ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆæ™‚ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ | DBå¿œç­”ãŒé…ã„å ´åˆã®å‡¦ç† | Integration |
| TC-CV-004-003 | ã‚­ãƒ£ãƒƒã‚·ãƒ¥æœ‰åŠ¹æ™‚ã®ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ | ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒæœ‰åŠ¹ãªå ´åˆã®é«˜é€Ÿå¿œç­” | Integration |
| TC-CV-004-004 | è©³ç´°ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ | å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å€‹åˆ¥çŠ¶æ…‹ç¢ºèª | Integration |
| TC-CV-004-005 | ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã®ä¸¦è¡Œå®Ÿè¡Œ | è¤‡æ•°ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®åŒæ™‚å‡¦ç† | Integration |

##### TC-CV-005: api/deps.py è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/api/test_deps.py` (æ–°è¦ä½œæˆ)
- **ãƒ†ã‚¹ãƒˆæ•°**: 4ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-005-001 | get_dbä¾å­˜æ€§ãƒ†ã‚¹ãƒˆ | DB sessionãŒæ­£ã—ãç”Ÿæˆã•ã‚Œã‚‹ | Unit |
| TC-CV-005-002 | DB sessionè‡ªå‹•ã‚¯ãƒ­ãƒ¼ã‚ºãƒ†ã‚¹ãƒˆ | å‡¦ç†å¾Œã«sessionãŒé–‰ã˜ã‚‰ã‚Œã‚‹ | Unit |
| TC-CV-005-003 | DB sessionä¾‹å¤–æ™‚ã®ã‚¯ãƒ­ãƒ¼ã‚º | ä¾‹å¤–ç™ºç”Ÿæ™‚ã‚‚sessionãŒç¢ºå®Ÿã«é–‰ã˜ã‚‰ã‚Œã‚‹ | Unit |
| TC-CV-005-004 | è¤‡æ•°ã®ä¸¦è¡ŒDB session | åŒæ™‚ã«è¤‡æ•°ã®sessionãŒç‹¬ç«‹ã—ã¦å‹•ä½œã™ã‚‹ | Integration |

##### TC-CV-006: core/rate_limit.py è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/core/test_rate_limit.py` (æ—¢å­˜ã«è¿½åŠ )
- **ãƒ†ã‚¹ãƒˆæ•°**: 7ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 1æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-006-001 | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ | åˆ¶é™ãã‚Šãã‚Šã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆ | Unit |
| TC-CV-006-002 | ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¶…éæ™‚ã®ãƒªãƒˆãƒ©ã‚¤ | Retry-Afterãƒ˜ãƒƒãƒ€ãƒ¼ã®æ¤œè¨¼ | Integration |
| TC-CV-006-003 | ç•°ãªã‚‹IPã‹ã‚‰ã®ãƒ¬ãƒ¼ãƒˆåˆ¶é™ | å„IPãŒç‹¬ç«‹ã—ã¦ã‚«ã‚¦ãƒ³ãƒˆã•ã‚Œã‚‹ | Integration |
| TC-CV-006-004 | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ãƒªã‚»ãƒƒãƒˆ | æ™‚é–“çµŒéå¾Œã®ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼ãƒªã‚»ãƒƒãƒˆ | Integration |
| TC-CV-006-005 | ã‚«ã‚¹ã‚¿ãƒ ãƒ¬ãƒ¼ãƒˆåˆ¶é™è¨­å®š | ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®ç•°ãªã‚‹åˆ¶é™ | Unit |
| TC-CV-006-006 | ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ç„¡åŠ¹åŒ– | è¨­å®šã«ã‚ˆã‚‹ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ç„¡åŠ¹åŒ– | Unit |
| TC-CV-006-007 | Redisæ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã®æŒ™å‹• | RedisãŒä½¿ç”¨ã§ããªã„å ´åˆã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ | Integration |

##### TC-CV-007: db/session.py è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `tests/db/test_session.py` (æ—¢å­˜ã«è¿½åŠ )
- **ãƒ†ã‚¹ãƒˆæ•°**: 3ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-007-001 | DBæ¥ç¶šå¤±æ•—æ™‚ã®ãƒªãƒˆãƒ©ã‚¤ | æ¥ç¶šã‚¨ãƒ©ãƒ¼æ™‚ã®å†æ¥ç¶šè©¦è¡Œ | Integration |
| TC-CV-007-002 | ã‚»ãƒƒã‚·ãƒ§ãƒ³ãƒ—ãƒ¼ãƒ«ã®æ¯æ¸‡ | å…¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ãŒä½¿ç”¨ä¸­ã®å ´åˆã®å¾…æ©Ÿ | Integration |
| TC-CV-007-003 | ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã®ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ | ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ | Integration |

### 3.2 Frontend ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆå„ªå…ˆåº¦é †ï¼‰

#### P0: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆAIå¤‰æ›ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼‰

##### TC-CV-101: ai_conversion_provider.dart è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/features/ai_conversion/providers/ai_conversion_provider_test.dart` (æ—¢å­˜ã«è¿½åŠ )
- **ãƒ†ã‚¹ãƒˆæ•°**: 10ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 1.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-101-001 | AIå¤‰æ›ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ | 3ç§’è¶…éæ™‚ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆå‡¦ç† | Unit |
| TC-CV-101-002 | AIå¤‰æ›ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­æ™‚ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | Unit |
| TC-CV-101-003 | AIå¤‰æ›APIã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ | 400/500ã‚¨ãƒ©ãƒ¼æ™‚ã®å‡¦ç† | Unit |
| TC-CV-101-004 | AIå¤‰æ›ãƒªãƒˆãƒ©ã‚¤å‡¦ç† | ã‚¨ãƒ©ãƒ¼æ™‚ã®è‡ªå‹•ãƒªãƒˆãƒ©ã‚¤ | Unit |
| TC-CV-101-005 | ä¸å¯§ã•ãƒ¬ãƒ™ãƒ«å¤‰æ›´æ™‚ã®å¤‰æ› | politeness_levelã”ã¨ã®å¤‰æ›çµæœ | Unit |
| TC-CV-101-006 | é€£ç¶šAIå¤‰æ›ãƒªã‚¯ã‚¨ã‚¹ãƒˆ | å‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒã‚­ãƒ£ãƒ³ã‚»ãƒ«ã•ã‚Œã‚‹ | Unit |
| TC-CV-101-007 | AIå¤‰æ›çµæœã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ | åŒã˜å…¥åŠ›ã«å¯¾ã™ã‚‹ã‚­ãƒ£ãƒƒã‚·ãƒ¥åˆ©ç”¨ | Unit |
| TC-CV-101-008 | æœ€å°æ–‡å­—æ•°æœªæº€ã®å¤‰æ› | 2æ–‡å­—æœªæº€ã®å…¥åŠ›ã§ã®å¤‰æ›ä¸å¯ | Edge |
| TC-CV-101-009 | ç©ºæ–‡å­—åˆ—ã®å¤‰æ› | ç©ºå…¥åŠ›ã§ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | Edge |
| TC-CV-101-010 | éå¸¸ã«é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã®å¤‰æ› | 1000æ–‡å­—ä»¥ä¸Šã®å…¥åŠ›ã§ã®å‡¦ç† | Edge |

#### P1: ãƒ¢ãƒ‡ãƒ«ãƒ»ç”»é¢ãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã®è£œå®Œãƒ†ã‚¹ãƒˆ

##### TC-CV-102: favorite.dart (Model) ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/features/favorite/domain/models/favorite_test.dart` (æ–°è¦ä½œæˆ)
- **ãƒ†ã‚¹ãƒˆæ•°**: 8ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 1æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-102-001 | Favoriteãƒ¢ãƒ‡ãƒ«ç”Ÿæˆãƒ†ã‚¹ãƒˆ | æ­£å¸¸ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ– | Unit |
| TC-CV-102-002 | Favoriteã®JSONå¤‰æ›ãƒ†ã‚¹ãƒˆ | toJson/fromJsonã®ç›¸äº’å¤‰æ› | Unit |
| TC-CV-102-003 | Favoriteã®ç­‰ä¾¡æ€§ãƒ†ã‚¹ãƒˆ | ==æ¼”ç®—å­ã¨hashCodeã®æ¤œè¨¼ | Unit |
| TC-CV-102-004 | Favoriteã®copyWithãƒ†ã‚¹ãƒˆ | ä¸€éƒ¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ | Unit |
| TC-CV-102-005 | ç©ºãƒ†ã‚­ã‚¹ãƒˆã®Favorite | ç©ºæ–‡å­—åˆ—ã§ã®ç”Ÿæˆã‚¨ãƒ©ãƒ¼ | Edge |
| TC-CV-102-006 | éå¸¸ã«é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã®Favorite | 500æ–‡å­—ã®ãƒ†ã‚­ã‚¹ãƒˆã§ã®ç”Ÿæˆ | Edge |
| TC-CV-102-007 | ä¸æ­£ãªJSONã‹ã‚‰ã®å¾©å…ƒ | ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã®ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | Edge |
| TC-CV-102-008 | Favoriteã®ã‚½ãƒ¼ãƒˆ | createdAté †ã§ã®ã‚½ãƒ¼ãƒˆ | Unit |

##### TC-CV-103: history.dart (Model) ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/features/history/domain/models/history_test.dart` (æ–°è¦ä½œæˆ)
- **ãƒ†ã‚¹ãƒˆæ•°**: 8ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 1æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-103-001 | Historyãƒ¢ãƒ‡ãƒ«ç”Ÿæˆãƒ†ã‚¹ãƒˆ | æ­£å¸¸ãªã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ– | Unit |
| TC-CV-103-002 | Historyã®JSONå¤‰æ›ãƒ†ã‚¹ãƒˆ | toJson/fromJsonã®ç›¸äº’å¤‰æ› | Unit |
| TC-CV-103-003 | Historyã®ç­‰ä¾¡æ€§ãƒ†ã‚¹ãƒˆ | ==æ¼”ç®—å­ã¨hashCodeã®æ¤œè¨¼ | Unit |
| TC-CV-103-004 | Historyã®copyWithãƒ†ã‚¹ãƒˆ | ä¸€éƒ¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®å¤‰æ›´ | Unit |
| TC-CV-103-005 | ç©ºãƒ†ã‚­ã‚¹ãƒˆã®History | ç©ºæ–‡å­—åˆ—ã§ã®ç”Ÿæˆ | Edge |
| TC-CV-103-006 | éå¸¸ã«é•·ã„ãƒ†ã‚­ã‚¹ãƒˆã®History | 1000æ–‡å­—ã®ãƒ†ã‚­ã‚¹ãƒˆã§ã®ç”Ÿæˆ | Edge |
| TC-CV-103-007 | ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã®å¢ƒç•Œå€¤ | éå»ãƒ»æœªæ¥ã®æ—¥æ™‚ã§ã®ç”Ÿæˆ | Edge |
| TC-CV-103-008 | Historyã®ã‚½ãƒ¼ãƒˆ | timestampé †ã§ã®ã‚½ãƒ¼ãƒˆ | Unit |

##### TC-CV-104: preset_phrase_screen.dart ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/features/preset_phrase/presentation/preset_phrase_screen_test.dart` (æ–°è¦ä½œæˆ)
- **ãƒ†ã‚¹ãƒˆæ•°**: 12ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 2æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-104-001 | å®šå‹æ–‡ç”»é¢ã®åˆæœŸè¡¨ç¤º | ç©ºã®å®šå‹æ–‡ãƒªã‚¹ãƒˆè¡¨ç¤º | Widget |
| TC-CV-104-002 | å®šå‹æ–‡ãƒªã‚¹ãƒˆã®è¡¨ç¤º | è¤‡æ•°ã®å®šå‹æ–‡ã®ä¸€è¦§è¡¨ç¤º | Widget |
| TC-CV-104-003 | å®šå‹æ–‡è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º | è¿½åŠ ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—ã§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º | Widget |
| TC-CV-104-004 | å®šå‹æ–‡ã®è¿½åŠ  | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‹ã‚‰å®šå‹æ–‡è¿½åŠ  | Widget |
| TC-CV-104-005 | å®šå‹æ–‡ã®ç·¨é›† | æ—¢å­˜å®šå‹æ–‡ã®ç·¨é›† | Widget |
| TC-CV-104-006 | å®šå‹æ–‡ã®å‰Šé™¤ | å®šå‹æ–‡ã®å‰Šé™¤ç¢ºèªã¨å‰Šé™¤ | Widget |
| TC-CV-104-007 | å®šå‹æ–‡ã®ã‚¿ãƒƒãƒ— | ã‚¿ãƒƒãƒ—ã§æ–‡å­—ç›¤ã«æŒ¿å…¥ | Widget |
| TC-CV-104-008 | ç©ºã®å®šå‹æ–‡è¿½åŠ ã‚¨ãƒ©ãƒ¼ | ç©ºãƒ†ã‚­ã‚¹ãƒˆã§ã®è¿½åŠ ä¸å¯ | Widget |
| TC-CV-104-009 | é•·ã™ãã‚‹å®šå‹æ–‡ã‚¨ãƒ©ãƒ¼ | 500æ–‡å­—è¶…éã§ã®è¿½åŠ ä¸å¯ | Widget |
| TC-CV-104-010 | å®šå‹æ–‡ã®ä¸¦ã³æ›¿ãˆ | ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã§ã®ä¸¦ã³æ›¿ãˆ | Widget |
| TC-CV-104-011 | å®šå‹æ–‡ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚° | ã‚«ãƒ†ã‚´ãƒªã§ã®ãƒ•ã‚£ãƒ«ã‚¿ | Widget |
| TC-CV-104-012 | å®šå‹æ–‡ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« | å¤šæ•°ã®å®šå‹æ–‡ã§ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« | Widget |

##### TC-CV-105: home_screen.dart è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/features/character_board/presentation/home_screen_test.dart` (æ—¢å­˜ã«è¿½åŠ )
- **ãƒ†ã‚¹ãƒˆæ•°**: 10ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 1.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-105-001 | ãƒ›ãƒ¼ãƒ ç”»é¢ã®åˆæœŸè¡¨ç¤º | å„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒæ­£ã—ãé…ç½®ã•ã‚Œã‚‹ | Widget |
| TC-CV-105-002 | ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ | å„ã‚¿ãƒ–ã¸ã®é·ç§» | Widget |
| TC-CV-105-003 | æ–‡å­—ç›¤ã¨TTSãƒœã‚¿ãƒ³ã®é€£æº | å…¥åŠ›å¾Œã®TTSãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ– | Widget |
| TC-CV-105-004 | AIå¤‰æ›ãƒœã‚¿ãƒ³ã®è¡¨ç¤ºåˆ¶å¾¡ | ã‚ªãƒ³ãƒ©ã‚¤ãƒ³æ™‚ã®ã¿è¡¨ç¤º | Widget |
| TC-CV-105-005 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³æ™‚ã®UI | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯åˆ‡æ–­æ™‚ã®è¡¨ç¤º | Widget |
| TC-CV-105-006 | ç·Šæ€¥ãƒœã‚¿ãƒ³ã®è¡¨ç¤º | ç·Šæ€¥ãƒœã‚¿ãƒ³ã®é…ç½®ã¨å‹•ä½œ | Widget |
| TC-CV-105-007 | ã‚¯ã‚¤ãƒƒã‚¯è¿”ç­”ãƒœã‚¿ãƒ³ | ã‚¯ã‚¤ãƒƒã‚¯è¿”ç­”ã®å®Ÿè¡Œ | Widget |
| TC-CV-105-008 | ç”»é¢å›è»¢æ™‚ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | ç¸¦æ¨ªå›è»¢ã§ã®é©åˆ‡ãªãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | Widget |
| TC-CV-105-009 | ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ©ãƒ™ãƒ« | Semanticsãƒ©ãƒ™ãƒ«ã®æ¤œè¨¼ | Widget |
| TC-CV-105-010 | ãƒ›ãƒ¼ãƒ ç”»é¢ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ | åˆæœŸãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æ™‚é–“ã®æ¤œè¨¼ | Performance |

##### TC-CV-106: connectivity_service.dart ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/features/network/domain/services/connectivity_service_test.dart` (æ–°è¦ä½œæˆ)
- **ãƒ†ã‚¹ãƒˆæ•°**: 6ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-106-001 | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ…‹å–å¾— | ç¾åœ¨ã®ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯çŠ¶æ…‹ã‚’å–å¾— | Unit |
| TC-CV-106-002 | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯å¤‰åŒ–ã®ç›£è¦– | çŠ¶æ…‹å¤‰åŒ–ã®Streamã‚’æä¾› | Unit |
| TC-CV-106-003 | ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ â†’ ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ | åˆ‡æ–­æ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ | Unit |
| TC-CV-106-004 | ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ â†’ ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ | å†æ¥ç¶šæ™‚ã®ã‚¤ãƒ™ãƒ³ãƒˆé€šçŸ¥ | Unit |
| TC-CV-106-005 | Wi-Fi â‡” ãƒ¢ãƒã‚¤ãƒ«åˆ‡ã‚Šæ›¿ãˆ | ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç¨®åˆ¥ã®å¤‰åŒ– | Unit |
| TC-CV-106-006 | ã‚µãƒ¼ãƒ“ã‚¹ã®ç ´æ£„ | disposeã§ã®ãƒªã‚½ãƒ¼ã‚¹è§£æ”¾ | Unit |

##### TC-CV-107: volume_service.dart è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/features/tts/domain/services/volume_service_test.dart` (æ—¢å­˜ã«è¿½åŠ )
- **ãƒ†ã‚¹ãƒˆæ•°**: 4ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-107-001 | éŸ³é‡ãƒ¬ãƒ™ãƒ«ã®å–å¾— | ç¾åœ¨ã®éŸ³é‡ãƒ¬ãƒ™ãƒ«ã‚’å–å¾— | Unit |
| TC-CV-107-002 | éŸ³é‡ãƒ¬ãƒ™ãƒ«ã®ç›£è¦– | éŸ³é‡å¤‰åŒ–ã®Streamã‚’æä¾› | Unit |
| TC-CV-107-003 | ä½éŸ³é‡æ™‚ã®è­¦å‘Š | éŸ³é‡ãŒ20%æœªæº€æ™‚ã«è­¦å‘Š | Unit |
| TC-CV-107-004 | ãƒŸãƒ¥ãƒ¼ãƒˆçŠ¶æ…‹ã®æ¤œå‡º | éŸ³é‡0ã®æ¤œå‡º | Unit |

#### P2: Adapterã€Widgetã®è£œå®Œãƒ†ã‚¹ãƒˆ

##### TC-CV-108: Hive Adapter ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/shared/models/adapters_test.dart` (æ–°è¦ä½œæˆ)
- **ãƒ†ã‚¹ãƒˆæ•°**: 6ã‚±ãƒ¼ã‚¹ï¼ˆ3ãƒ•ã‚¡ã‚¤ãƒ«Ã—2ã‚±ãƒ¼ã‚¹ï¼‰
- **æ¨å®šå·¥æ•°**: 1æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-108-001 | FavoriteItemAdapteræ›¸ãè¾¼ã¿ãƒ†ã‚¹ãƒˆ | Hiveã¸ã®æ›¸ãè¾¼ã¿ | Unit |
| TC-CV-108-002 | FavoriteItemAdapterèª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ | Hiveã‹ã‚‰ã®èª­ã¿è¾¼ã¿ | Unit |
| TC-CV-108-003 | HistoryItemAdapteræ›¸ãè¾¼ã¿ãƒ†ã‚¹ãƒˆ | Hiveã¸ã®æ›¸ãè¾¼ã¿ | Unit |
| TC-CV-108-004 | HistoryItemAdapterèª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ | Hiveã‹ã‚‰ã®èª­ã¿è¾¼ã¿ | Unit |
| TC-CV-108-005 | PresetPhraseAdapteræ›¸ãè¾¼ã¿ãƒ†ã‚¹ãƒˆ | Hiveã¸ã®æ›¸ãè¾¼ã¿ | Unit |
| TC-CV-108-006 | PresetPhraseAdapterèª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ | Hiveã‹ã‚‰ã®èª­ã¿è¾¼ã¿ | Unit |

##### TC-CV-109: Widgetè£œå®Œãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: å„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- **ãƒ†ã‚¹ãƒˆæ•°**: 18ã‚±ãƒ¼ã‚¹ï¼ˆ6ãƒ•ã‚¡ã‚¤ãƒ«Ã—3ã‚±ãƒ¼ã‚¹ï¼‰
- **æ¨å®šå·¥æ•°**: 2æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-109-001ã€œ003 | error_dialog.dart ãƒ†ã‚¹ãƒˆ | ã‚¨ãƒ©ãƒ¼ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è¡¨ç¤ºãƒ»ãƒœã‚¿ãƒ³ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | Widget |
| TC-CV-109-004ã€œ006 | clear_confirmation_dialog.dart ãƒ†ã‚¹ãƒˆ | ã‚¯ãƒªã‚¢ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®è¡¨ç¤ºãƒ»ç¢ºèªãƒ»ã‚­ãƒ£ãƒ³ã‚»ãƒ« | Widget |
| TC-CV-109-007ã€œ009 | phrase_list_item.dart ãƒ†ã‚¹ãƒˆ | å®šå‹æ–‡ã‚¢ã‚¤ãƒ†ãƒ ã®è¡¨ç¤ºãƒ»ã‚¿ãƒƒãƒ—ãƒ»å‰Šé™¤ | Widget |
| TC-CV-109-010ã€œ012 | ai_politeness_settings_widget.dart ãƒ†ã‚¹ãƒˆ | ä¸å¯§ã•è¨­å®šã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®è¡¨ç¤ºãƒ»å¤‰æ›´ãƒ»ä¿å­˜ | Widget |
| TC-CV-109-013ã€œ015 | font_size_settings_widget.dart ãƒ†ã‚¹ãƒˆ | ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºè¨­å®šã®è¡¨ç¤ºãƒ»å¤‰æ›´ãƒ»ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | Widget |
| TC-CV-109-016ã€œ018 | theme_settings_widget.dart ãƒ†ã‚¹ãƒˆ | ãƒ†ãƒ¼ãƒè¨­å®šã®è¡¨ç¤ºãƒ»å¤‰æ›´ãƒ»é©ç”¨ | Widget |

#### P3: Constantsï¼ˆå®šæ•°ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ã®ã‚«ãƒãƒ¬ãƒƒã‚¸å‘ä¸Š

##### TC-CV-110: Constants ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹
- **ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«**: `test/core/constants/constants_test.dart` (æ–°è¦ä½œæˆ)
- **ãƒ†ã‚¹ãƒˆæ•°**: 8ã‚±ãƒ¼ã‚¹
- **æ¨å®šå·¥æ•°**: 0.5æ™‚é–“

| TC-ID | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å | èª¬æ˜ | ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— |
|---|---|---|---|
| TC-CV-110-001 | app_colors.dart ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | å®šæ•°ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-110-002 | app_sizes.dart ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | å®šæ•°ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-110-003 | favorite_ui_constants.dart ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | å®šæ•°ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-110-004 | history_ui_constants.dart ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | å®šæ•°ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-110-005 | phrase_constants.dart ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | å®šæ•°ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-110-006 | quick_response_constants.dart ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ†ã‚¹ãƒˆ | å®šæ•°ãŒæ­£ã—ãã‚¤ãƒ³ãƒãƒ¼ãƒˆã•ã‚Œã‚‹ | Unit |
| TC-CV-110-007 | app_text_styles.dart ãƒ†ã‚¹ãƒˆ | ãƒ†ã‚­ã‚¹ãƒˆã‚¹ã‚¿ã‚¤ãƒ«ã®å–å¾— | Unit |
| TC-CV-110-008 | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå®šå‹æ–‡ã®æ¤œè¨¼ | default_phrases.dartã®å†…å®¹æ¤œè¨¼ | Unit |

## 4. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚µãƒãƒªãƒ¼

### 4.1 è¿½åŠ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°

| å¯¾è±¡ | ãƒ•ã‚¡ã‚¤ãƒ«æ•° | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•° | æ¨å®šå·¥æ•° |
|---|---|---|---|
| **Backend** | 8 | 36 | 5.0æ™‚é–“ |
| **Frontend** | 20 | 90 | 12.5æ™‚é–“ |
| **åˆè¨ˆ** | 28 | 126 | 17.5æ™‚é–“ |

### 4.2 å„ªå…ˆåº¦åˆ¥ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°

| å„ªå…ˆåº¦ | Backend | Frontend | åˆè¨ˆ |
|---|---|---|---|
| P0 (æœ€å„ªå…ˆ) | 17 | 10 | 27 |
| P1 (é«˜) | 19 | 48 | 67 |
| P2 (ä¸­) | 0 | 24 | 24 |
| P3 (ä½) | 0 | 8 | 8 |
| **åˆè¨ˆ** | 36 | 90 | 126 |

### 4.3 ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ—åˆ¥åˆ†é¡

| ãƒ†ã‚¹ãƒˆã‚¿ã‚¤ãƒ— | Backend | Frontend | åˆè¨ˆ |
|---|---|---|---|
| Unit Test | 28 | 50 | 78 |
| Integration Test | 8 | 0 | 8 |
| Widget Test | 0 | 40 | 40 |
| **åˆè¨ˆ** | 36 | 90 | 126 |

## 5. ã‚«ãƒãƒ¬ãƒƒã‚¸ç›®æ¨™é”æˆäºˆæ¸¬

### 5.1 Backend ã‚«ãƒãƒ¬ãƒƒã‚¸æ”¹å–„äºˆæ¸¬

| é …ç›® | ç¾åœ¨ | è¿½åŠ ãƒ†ã‚¹ãƒˆå¾Œï¼ˆäºˆæ¸¬ï¼‰ | ç›®æ¨™ | é”æˆè¦‹è¾¼ã¿ |
|---|---|---|---|---|
| å…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸ | 83% (365/439) | **91%** (400/439) | 90% | âœ… é”æˆè¦‹è¾¼ã¿ |
| security.py | 0% (0/18) | 95% (17/18) | 90% | âœ… é”æˆ |
| utils/exceptions.py | 0% (0/17) | 95% (16/17) | 90% | âœ… é”æˆ |
| api/v1/endpoints/health.py | 76% (16/21) | 95% (20/21) | 90% | âœ… é”æˆ |
| api/deps.py | 67% (4/6) | 100% (6/6) | 90% | âœ… é”æˆ |
| core/rate_limit.py | 85% (39/46) | 93% (43/46) | 90% | âœ… é”æˆ |

### 5.2 Frontend ã‚«ãƒãƒ¬ãƒƒã‚¸æ”¹å–„äºˆæ¸¬

| é …ç›® | ç¾åœ¨ | è¿½åŠ ãƒ†ã‚¹ãƒˆå¾Œï¼ˆäºˆæ¸¬ï¼‰ | ç›®æ¨™ | é”æˆè¦‹è¾¼ã¿ |
|---|---|---|---|---|
| å…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸ | 87.83% (2554/2908) | **90.5%** (2632/2908) | 80% | âœ… é”æˆæ¸ˆã¿ï¼ˆã•ã‚‰ã«å‘ä¸Šï¼‰ |
| ai_conversion_provider.dart | 75.6% (31/41) | 95% (39/41) | 90% | âœ… é”æˆ |
| favorite.dart | 22.2% (6/27) | 85% (23/27) | 80% | âœ… é”æˆ |
| history.dart | 3.7% (1/27) | 85% (23/27) | 80% | âœ… é”æˆ |
| preset_phrase_screen.dart | 1.8% (1/55) | 82% (45/55) | 80% | âœ… é”æˆ |
| home_screen.dart | 64.9% (48/74) | 85% (63/74) | 80% | âœ… é”æˆ |

### 5.3 ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»APIã‚«ãƒãƒ¬ãƒƒã‚¸é”æˆçŠ¶æ³ï¼ˆäºˆæ¸¬ï¼‰

| å¯¾è±¡ | ç¾åœ¨90%ä»¥ä¸Š | è¿½åŠ å¾Œ90%ä»¥ä¸Šï¼ˆäºˆæ¸¬ï¼‰ | å…¨ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«æ•° | é”æˆç‡ |
|---|---|---|---|---|
| Frontend ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ | 5/10 | **10/10** | 10 | **100%** |
| Backend APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ | 8/14 | **13/14** | 14 | **93%** |

## 6. ãƒ†ã‚¹ãƒˆå®Ÿè£…è¨ˆç”»

### 6.1 å®Ÿæ–½é †åºï¼ˆæ¨å¥¨ï¼‰

#### Phase 1: æœ€å„ªå…ˆãƒ†ã‚¹ãƒˆï¼ˆP0ï¼‰- 3æ™‚é–“
1. Backend æœªãƒ†ã‚¹ãƒˆãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆTC-CV-001, TC-CV-002, TC-CV-003ï¼‰
2. Frontend AIå¤‰æ›ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼ˆTC-CV-101ï¼‰

#### Phase 2: é«˜å„ªå…ˆåº¦ãƒ†ã‚¹ãƒˆï¼ˆP1ï¼‰- 8æ™‚é–“
3. Backend APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»é‡è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼ˆTC-CV-004ã€œ007ï¼‰
4. Frontend ãƒ¢ãƒ‡ãƒ«ãƒ»ç”»é¢ï¼ˆTC-CV-102ã€œ105ï¼‰
5. Frontend ã‚µãƒ¼ãƒ“ã‚¹å±¤ï¼ˆTC-CV-106, TC-CV-107ï¼‰

#### Phase 3: ä¸­å„ªå…ˆåº¦ãƒ†ã‚¹ãƒˆï¼ˆP2ï¼‰- 3æ™‚é–“
6. Frontend Adapterï¼ˆTC-CV-108ï¼‰
7. Frontend Widgetï¼ˆTC-CV-109ï¼‰

#### Phase 4: ä½å„ªå…ˆåº¦ãƒ†ã‚¹ãƒˆï¼ˆP3ï¼‰- 0.5æ™‚é–“
8. Frontend Constantsï¼ˆTC-CV-110ï¼‰

#### Phase 5: ã‚«ãƒãƒ¬ãƒƒã‚¸å†è¨ˆæ¸¬ãƒ»æ¤œè¨¼ - 1æ™‚é–“
9. å…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãƒ»ã‚«ãƒãƒ¬ãƒƒã‚¸å†è¨ˆæ¸¬
10. ç›®æ¨™é”æˆç¢ºèªãƒ»ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ

### 6.2 ãƒ‡ã‚¤ãƒªãƒ¼é€²æ—ç›®æ¨™

| æ—¥ | ãƒ•ã‚§ãƒ¼ã‚º | å®Ÿæ–½å†…å®¹ | ç›®æ¨™ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•° | æ¨å®šå·¥æ•° |
|---|---|---|---|---|
| **Day 1** | Phase 1 | P0ãƒ†ã‚¹ãƒˆå®Ÿè£… | 27ã‚±ãƒ¼ã‚¹ | 3æ™‚é–“ |
| **Day 2** | Phase 2-1 | Backend P1ãƒ†ã‚¹ãƒˆ | 19ã‚±ãƒ¼ã‚¹ | 2.5æ™‚é–“ |
| **Day 2** | Phase 2-2 | Frontend P1ãƒ†ã‚¹ãƒˆï¼ˆãƒ¢ãƒ‡ãƒ«ï¼‰ | 16ã‚±ãƒ¼ã‚¹ | 2æ™‚é–“ |
| **Day 3** | Phase 2-3 | Frontend P1ãƒ†ã‚¹ãƒˆï¼ˆç”»é¢ï¼‰ | 22ã‚±ãƒ¼ã‚¹ | 3.5æ™‚é–“ |
| **Day 3** | Phase 3 | P2ãƒ†ã‚¹ãƒˆå®Ÿè£… | 24ã‚±ãƒ¼ã‚¹ | 3æ™‚é–“ |
| **Day 4** | Phase 4 | P3ãƒ†ã‚¹ãƒˆå®Ÿè£… | 8ã‚±ãƒ¼ã‚¹ | 0.5æ™‚é–“ |
| **Day 4** | Phase 5 | å†è¨ˆæ¸¬ãƒ»æ¤œè¨¼ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ | - | 1æ™‚é–“ |

### 6.3 æˆæœç‰©

#### ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰
- `backend/tests/core/test_security.py` (æ–°è¦)
- `backend/tests/utils/test_exceptions.py` (æ–°è¦)
- `backend/tests/db/test_base.py` (æ–°è¦)
- `backend/tests/api/test_deps.py` (æ–°è¦)
- `backend/tests/api/v1/endpoints/test_health.py` (è¿½åŠ )
- `backend/tests/core/test_rate_limit.py` (è¿½åŠ )
- `backend/tests/db/test_session.py` (è¿½åŠ )
- `frontend/kotonoha_app/test/features/ai_conversion/providers/ai_conversion_provider_test.dart` (è¿½åŠ )
- `frontend/kotonoha_app/test/features/favorite/domain/models/favorite_test.dart` (æ–°è¦)
- `frontend/kotonoha_app/test/features/history/domain/models/history_test.dart` (æ–°è¦)
- `frontend/kotonoha_app/test/features/preset_phrase/presentation/preset_phrase_screen_test.dart` (æ–°è¦)
- `frontend/kotonoha_app/test/features/character_board/presentation/home_screen_test.dart` (è¿½åŠ )
- ãã®ä»–18ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆWidgetã€Adapterã€Constants ãƒ†ã‚¹ãƒˆï¼‰

#### ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
- `backend/htmlcov/index.html` (æ›´æ–°)
- `frontend/kotonoha_app/coverage/lcov.info` (æ›´æ–°)
- `docs/implements/kotonoha/TASK-0096/coverage-report.md` (æ–°è¦)
- `docs/implements/kotonoha/TASK-0096/coverage-improvement.md` (æ–°è¦)

## 7. ãƒ†ã‚¹ãƒˆæˆ¦ç•¥ãƒ»æ–¹é‡

### 7.1 ãƒ†ã‚¹ãƒˆåŸå‰‡

1. **AAA ãƒ‘ã‚¿ãƒ¼ãƒ³**: Arrangeï¼ˆæº–å‚™ï¼‰â†’ Actï¼ˆå®Ÿè¡Œï¼‰â†’ Assertï¼ˆæ¤œè¨¼ï¼‰
2. **ç‹¬ç«‹æ€§**: ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯ç›¸äº’ã«ç‹¬ç«‹ã—ã€å®Ÿè¡Œé †åºã«ä¾å­˜ã—ãªã„
3. **å†ç¾æ€§**: CIç’°å¢ƒã§ã‚‚åŒã˜çµæœãŒå¾—ã‚‰ã‚Œã‚‹ï¼ˆç’°å¢ƒä¾å­˜æ’é™¤ï¼‰
4. **ãƒ¢ãƒƒã‚¯æ´»ç”¨**: å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ï¼ˆå®ŸAPIã€DBç­‰ï¼‰ã¯ãƒ¢ãƒƒã‚¯ä½¿ç”¨
5. **å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆ**: æ­£å¸¸ç³»ã ã‘ã§ãªãå¢ƒç•Œå€¤ãƒ»ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚‚ç¶²ç¾…

### 7.2 Backend ãƒ†ã‚¹ãƒˆæ–¹é‡

- **pytest fixtures** ã‚’æ´»ç”¨ã—ãŸãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®å†åˆ©ç”¨
- **pytest-asyncio** ã«ã‚ˆã‚‹éåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆ
- **pytest-cov** ã«ã‚ˆã‚‹è‡ªå‹•ã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬
- **ãƒ†ã‚¹ãƒˆDB** ã¯å°‚ç”¨ã®ãƒ†ã‚¹ãƒˆDBï¼ˆPostgreSQL or SQLite in-memoryï¼‰
- **ãƒ¢ãƒƒã‚¯**: HTTPã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆï¼ˆhttpxï¼‰ã€å¤–éƒ¨APIï¼ˆAnthropicï¼‰ã¯ãƒ¢ãƒƒã‚¯

### 7.3 Frontend ãƒ†ã‚¹ãƒˆæ–¹é‡

- **flutter_test** ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã‚ˆã‚‹ãƒ¦ãƒ‹ãƒƒãƒˆãƒ»ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
- **Riverpod ProviderContainer** ã‚’ä½¿ã£ãŸçŠ¶æ…‹ç®¡ç†ã®ãƒ†ã‚¹ãƒˆ
- **mockito** ã«ã‚ˆã‚‹ãƒ¢ãƒƒã‚¯ï¼ˆHTTPã€TTSã€ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ï¼‰
- **golden test** ã¯ä½¿ç”¨ã—ãªã„ï¼ˆã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã¯ä¸å®‰å®šãªãŸã‚ï¼‰
- **pumping**: ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ†ã‚¹ãƒˆã§ã¯é©åˆ‡ã« `pump()` / `pumpAndSettle()` ã‚’ä½¿ç”¨

### 7.4 ãƒ†ã‚¹ãƒˆå‘½åè¦å‰‡

#### Backend
```python
def test_<æ©Ÿèƒ½å>_<æ¡ä»¶>_<æœŸå¾…çµæœ>():
    """ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹èª¬æ˜ï¼ˆæ—¥æœ¬èªå¯ï¼‰"""
    # ä¾‹: test_create_access_token_with_valid_data_returns_token()
```

#### Frontend
```dart
testWidgets('TC-XXX-XXX: <ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å>', (WidgetTester tester) async {
  // ä¾‹: testWidgets('TC-CV-101-001: AIå¤‰æ›ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆ', ...)
});

test('TC-XXX-XXX: <ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å>', () {
  // ä¾‹: test('TC-CV-102-001: Favoriteãƒ¢ãƒ‡ãƒ«ç”Ÿæˆãƒ†ã‚¹ãƒˆ', () { ... });
});
```

### 7.5 ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ»ç•°å¸¸ç³»ã®ã‚«ãƒãƒ¬ãƒƒã‚¸æ–¹é‡

ä»¥ä¸‹ã®ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ã‚’å„ªå…ˆçš„ã«ãƒ†ã‚¹ãƒˆ:

1. **Null/ç©ºå€¤**: nullã€ç©ºæ–‡å­—åˆ—ã€ç©ºé…åˆ—ã€ç©ºMap
2. **å¢ƒç•Œå€¤**: æœ€å°å€¤ãƒ»æœ€å¤§å€¤ï¼ˆæ–‡å­—æ•°ã€é…åˆ—é•·ã€æ•°å€¤ç¯„å›²ï¼‰
3. **ã‚¨ãƒ©ãƒ¼**: ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ã€ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã€APIã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹
4. **ä¸æ­£å…¥åŠ›**: ä¸æ­£ãªå‹ã€äºˆæœŸã—ãªã„å€¤ã€æ”¹ã–ã‚“ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿
5. **ãƒªã‚½ãƒ¼ã‚¹æ¯æ¸‡**: ãƒ¡ãƒ¢ãƒªä¸è¶³ã€ãƒ‡ã‚£ã‚¹ã‚¯ä¸è¶³ã€DBæ¥ç¶šæ¯æ¸‡

## 8. CI/CDçµ±åˆè¨ˆç”»

### 8.1 GitHub Actions ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼æ›´æ–°

#### Backend ãƒ†ã‚¹ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```yaml
name: Backend Tests with Coverage

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.11'
      - name: Install dependencies
        run: |
          cd backend
          pip install -r requirements.txt
      - name: Run tests with coverage
        run: |
          cd backend
          pytest --cov=app --cov-report=xml --cov-report=term
      - name: Check coverage threshold
        run: |
          cd backend
          coverage report --fail-under=90
      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
        with:
          file: ./backend/coverage.xml
```

#### Frontend ãƒ†ã‚¹ãƒˆãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
```yaml
name: Frontend Tests with Coverage

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Flutter
        uses: subosito/flutter-action@v2
        with:
          flutter-version: '3.38.1'
      - name: Install dependencies
        run: |
          cd frontend/kotonoha_app
          flutter pub get
      - name: Run tests with coverage
        run: |
          cd frontend/kotonoha_app
          flutter test --coverage
      - name: Check coverage threshold
        run: |
          cd frontend/kotonoha_app
          lcov --list coverage/lcov.info | grep "Total:" | awk '{if($2 < 80.0) exit 1}'
      - name: Upload coverage to Codecov
        uses: codecov/codecov-action@v3
        with:
          file: ./frontend/kotonoha_app/coverage/lcov.info
```

### 8.2 ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒãƒƒã‚¸ã®è¿½åŠ 

`README.md` ã«ä»¥ä¸‹ã®ãƒãƒƒã‚¸ã‚’è¿½åŠ :

```markdown
[![Backend Coverage](https://codecov.io/gh/<org>/kotonoha/branch/main/graph/badge.svg?flag=backend)](https://codecov.io/gh/<org>/kotonoha)
[![Frontend Coverage](https://codecov.io/gh/<org>/kotonoha/branch/main/graph/badge.svg?flag=frontend)](https://codecov.io/gh/<org>/kotonoha)
```

## 9. ãƒªã‚¹ã‚¯ãƒ»èª²é¡Œ

### 9.1 ãƒªã‚¹ã‚¯

| ãƒªã‚¹ã‚¯ | å½±éŸ¿åº¦ | ç™ºç”Ÿç¢ºç‡ | å¯¾ç­– |
|---|---|---|---|
| æ¨å®šå·¥æ•°17.5æ™‚é–“ãŒ8æ™‚é–“ã‚’è¶…é | é«˜ | é«˜ | å„ªå…ˆåº¦P0/P1ã«é›†ä¸­ã€P2/P3ã¯æ¬¡ã‚¿ã‚¹ã‚¯ã¸å»¶æœŸ |
| Backendä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å¤±æ•— | ä¸­ | ä¸­ | Dockerã‚³ãƒ³ãƒ†ãƒŠå†…ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ |
| ä¸€éƒ¨ãƒ†ã‚¹ãƒˆãŒCIç’°å¢ƒã§å¤±æ•— | ä¸­ | ä¸­ | ãƒ­ãƒ¼ã‚«ãƒ«ãƒ»CIä¸¡æ–¹ã§å®Ÿè¡Œç¢ºèªã€ç’°å¢ƒä¾å­˜ã‚’æ’é™¤ |
| ã‚«ãƒãƒ¬ãƒƒã‚¸90%é”æˆå›°é›£ | é«˜ | ä½ | é‡ç‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«æ³¨åŠ›ã€å…¨ä½“80%ã‚’æœ€ä½ãƒ©ã‚¤ãƒ³ |

### 9.2 èª²é¡Œ

- **Backend**: `alembic==1.17.1` ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¨ãƒ©ãƒ¼ â†’ ãƒãƒ¼ã‚¸ãƒ§ãƒ³èª¿æ•´ã¾ãŸã¯æ—¢å­˜ç’°å¢ƒæ´»ç”¨
- **Frontend**: ä¸€éƒ¨ã®ç”»é¢ãƒ†ã‚¹ãƒˆã¯Widget Testä½œæˆãŒè¤‡é›‘ â†’ é‡è¦ãªéƒ¨åˆ†ã®ã¿ãƒ†ã‚¹ãƒˆã€ç´°éƒ¨ã¯æ¬¡ãƒ•ã‚§ãƒ¼ã‚º
- **æ™‚é–“åˆ¶ç´„**: 8æ™‚é–“ã§P0/P1ã¾ã§å®Œäº†ã€P2/P3ã¯å„ªå…ˆåº¦ã«å¿œã˜ã¦å®Ÿæ–½

## 10. å®Œäº†å®šç¾©ï¼ˆDefinition of Doneï¼‰

### 10.1 å¿…é ˆæ¡ä»¶

- [ ] Backendå…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 90%é”æˆ
- [ ] Frontendå…¨ä½“ã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 80%é”æˆï¼ˆç¾åœ¨87.83%ã‚’ç¶­æŒï¼‰
- [ ] Frontend ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ï¼ˆé‡ç‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ï¼‰ã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 90%é”æˆ
- [ ] Backend APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ»é‡è¦ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« ã‚«ãƒãƒ¬ãƒƒã‚¸ â‰¥ 90%é”æˆ
- [ ] ã™ã¹ã¦ã®ãƒ†ã‚¹ãƒˆãŒãƒ‘ã‚¹ã™ã‚‹ï¼ˆBackendã€Frontendã€CIç’°å¢ƒï¼‰
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆï¼ˆHTMLã€Markdownï¼‰ãŒç”Ÿæˆã•ã‚Œã‚‹
- [ ] æ”¹å–„å‰å¾Œæ¯”è¼ƒãƒ¬ãƒãƒ¼ãƒˆãŒä½œæˆã•ã‚Œã‚‹
- [ ] è¿½åŠ ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ãŒLintåŸºæº–ã‚’æº€ãŸã™
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãŒå¯è¦–åŒ–ã•ã‚Œã‚‹

### 10.2 æ¨å¥¨æ¡ä»¶

- [ ] P0ï¼ˆæœ€å„ªå…ˆï¼‰ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹27ä»¶ã™ã¹ã¦å®Ÿè£…
- [ ] P1ï¼ˆé«˜å„ªå…ˆåº¦ï¼‰ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹67ä»¶ã®ã†ã¡80%ä»¥ä¸Šå®Ÿè£…
- [ ] P2ï¼ˆä¸­å„ªå…ˆåº¦ï¼‰ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹24ä»¶ã®ã†ã¡50%ä»¥ä¸Šå®Ÿè£…
- [ ] ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒãƒƒã‚¸ãŒREADME.mdã«è¿½åŠ ã•ã‚Œã‚‹

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«

ã“ã®ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸ã®ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«: **ğŸ”µ é’ä¿¡å·**

- ã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬çµæœã¯å®Ÿæ¸¬å€¤ã«åŸºã¥ã
- ä¸è¶³ç®‡æ‰€ã®ç‰¹å®šã¯è‡ªå‹•ãƒ„ãƒ¼ãƒ«ï¼ˆlcovã€pytest-covï¼‰ã«ã‚ˆã‚‹æ­£ç¢ºãªåˆ†æ
- ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•°ãƒ»å·¥æ•°ã¯é¡ä¼¼ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å®Ÿç¸¾ã«åŸºã¥ãåˆç†çš„ãªè¦‹ç©ã‚‚ã‚Š
- ä¸€éƒ¨ã®å·¥æ•°è¦‹ç©ã‚‚ã‚Šã¯æ¨æ¸¬ã‚’å«ã‚€ãŒã€å®‰å…¨ãƒãƒ¼ã‚¸ãƒ³ã‚’è€ƒæ…®

---

## æ›´æ–°å±¥æ­´

- **2025-12-02**: TASK-0096 ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å®šç¾©æ›¸ åˆç‰ˆä½œæˆï¼ˆã‚«ãƒãƒ¬ãƒƒã‚¸è¨ˆæ¸¬ãƒ»åˆ†æå®Œäº†ï¼‰
