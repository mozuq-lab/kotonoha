# TTSèª­ã¿ä¸Šã’é€Ÿåº¦ã®è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¸€è¦§

## æ©Ÿèƒ½æ¦‚è¦

**æ©Ÿèƒ½å**: TTSèª­ã¿ä¸Šã’é€Ÿåº¦ã®è¿½åŠ ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆã‚ˆã‚Šé…ã„é€Ÿåº¦ã®è¿½åŠ ï¼‰

**ã‚¿ã‚¹ã‚¯ID**: TDD-TTS-SLOWER-SPEED

**ä½œæˆæ—¥**: 2025-12-04

**è¦ä»¶å®šç¾©æ›¸**: `tts-slower-speed-requirements.md`

---

## é–‹ç™ºè¨€èªžãƒ»ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯

- **ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªž**: Dart 3.10+
  - **è¨€èªžé¸æŠžã®ç†ç”±**: æ—¢å­˜ã®Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹è¨€èªž
  - **ãƒ†ã‚¹ãƒˆã«é©ã—ãŸæ©Ÿèƒ½**: éžåŒæœŸå‡¦ç†ã®ãƒ†ã‚¹ãƒˆã‚µãƒãƒ¼ãƒˆã€åž‹å®‰å…¨æ€§
  - ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯ã«åŸºã¥ã

- **ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯**: flutter_test + mocktail
  - **ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é¸æŠžã®ç†ç”±**: æ—¢å­˜ã®TTSé–¢é€£ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯
  - **ãƒ†ã‚¹ãƒˆå®Ÿè¡Œç’°å¢ƒ**: `flutter test` ã‚³ãƒžãƒ³ãƒ‰ã§å®Ÿè¡Œ
  - ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆtts_service_test.dartç­‰ï¼‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

---

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹IDæŽ¡ç•ªè¦å‰‡

- **TTC-VS-XXX**: TTS Very Slowï¼ˆã¨ã¦ã‚‚é…ã„ï¼‰é–¢é€£ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

---

## 1. æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆåŸºæœ¬çš„ãªå‹•ä½œï¼‰

### TTC-VS-001: TTSSpeed.verySlowã®å€¤ãŒ0.5ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

- **ãƒ†ã‚¹ãƒˆå**: ã€Œã¨ã¦ã‚‚é…ã„ã€é€Ÿåº¦ã®å€¤ãŒ0.5ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: `TTSSpeed.verySlow.value`ãŒ0.5ã‚’è¿”ã™ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: `TTSSpeedExtension.value`ã‚²ãƒƒã‚¿ãƒ¼ãŒæ­£ã—ã„å€¤ã‚’è¿”ã™
- **å…¥åŠ›å€¤**: `TTSSpeed.verySlow`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸã€Œã¨ã¦ã‚‚é…ã„ã€é€Ÿåº¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**: `0.5`
  - **æœŸå¾…çµæžœã®ç†ç”±**: è¦ä»¶å®šç¾©æ›¸ã§ã€Œ0.5å€é€Ÿã€ã¨å®šç¾©ã•ã‚Œã¦ã„ã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: é€Ÿåº¦enumã®æ‹¡å¼µãŒæ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: `switch`æ–‡ã«æ–°ã—ã„ã‚±ãƒ¼ã‚¹ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- ðŸ”µ é’ä¿¡å·: è¦ä»¶å®šç¾©æ›¸ã®ã€Œé€Ÿåº¦å€¤ã®å®šç¾©ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã«åŸºã¥ã

### TTC-VS-002: setSpeed(TTSSpeed.verySlow)ã§flutter_ttsã«0.5ãŒè¨­å®šã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: ã€Œã¨ã¦ã‚‚é…ã„ã€é€Ÿåº¦è¨­å®šãŒTTSServiceã«åæ˜ ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: `TTSService.setSpeed(TTSSpeed.verySlow)`å‘¼ã³å‡ºã—æ™‚ã®flutter_ttsé€£æº
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: `FlutterTts.setSpeechRate(0.5)`ãŒå‘¼ã°ã‚Œã‚‹
- **å…¥åŠ›å€¤**: `TTSSpeed.verySlow`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨­å®šç”»é¢ã§ã€Œã¨ã¦ã‚‚é…ã„ã€ã‚’é¸æŠžã—ãŸå ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - `mockFlutterTts.setSpeechRate(0.5)`ãŒ1å›žå‘¼ã°ã‚Œã‚‹
  - `service.currentSpeed`ãŒ`TTSSpeed.verySlow`ã«ãªã‚‹
  - **æœŸå¾…çµæžœã®ç†ç”±**: æ—¢å­˜ã®setSpeed()ãƒ†ã‚¹ãƒˆï¼ˆTC-048-005ã€œ007ï¼‰ã¨åŒã˜ãƒ‘ã‚¿ãƒ¼ãƒ³
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: TTSServiceãŒæ–°ã—ã„é€Ÿåº¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æ­£ã—ãå‡¦ç†ã™ã‚‹ã“ã¨ã‚’ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: æ—¢å­˜ã®é€Ÿåº¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨åŒã˜å‹•ä½œã‚’ã™ã‚‹ã“ã¨
- ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ†ã‚¹ãƒˆï¼ˆtts_service_test.dart TC-048-005ã€œ007ï¼‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

### TTC-VS-003: é€Ÿåº¦ã‚’ã€Œã¨ã¦ã‚‚é…ã„ã€ã«è¨­å®šå¾Œã€èª­ã¿ä¸Šã’ãŒ0.5å€é€Ÿã§å®Ÿè¡Œã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: ã€Œã¨ã¦ã‚‚é…ã„ã€è¨­å®šå¾Œã®èª­ã¿ä¸Šã’ãŒæ­£ã—ã„é€Ÿåº¦ã§å®Ÿè¡Œã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: é€Ÿåº¦è¨­å®šâ†’èª­ã¿ä¸Šã’ã®ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ãƒ•ãƒ­ãƒ¼
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: è¨­å®šã—ãŸé€Ÿåº¦ã§èª­ã¿ä¸Šã’ãŒå®Ÿè¡Œã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**:
  - é€Ÿåº¦è¨­å®š: `TTSSpeed.verySlow`
  - èª­ã¿ä¸Šã’ãƒ†ã‚­ã‚¹ãƒˆ: `'ã“ã‚“ã«ã¡ã¯'`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã¨ã¦ã‚‚é…ã„ã€è¨­å®šã§èª­ã¿ä¸Šã’ã‚’å®Ÿè¡Œ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - `setSpeechRate(0.5)`ãŒå‘¼ã°ã‚Œã‚‹
  - `speak('ã“ã‚“ã«ã¡ã¯')`ãŒå‘¼ã°ã‚Œã‚‹
  - **æœŸå¾…çµæžœã®ç†ç”±**: è¦ä»¶å®šç¾©æ›¸ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼ã«åŸºã¥ã
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: çµ±åˆçš„ãªå‹•ä½œç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: SettingsNotifierâ†’TTSNotifierâ†’TTSServiceâ†’FlutterTtsã®é€£æº
- ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ†ã‚¹ãƒˆï¼ˆtts_speed_integration_test.dart TC-049-007ã€œ009ï¼‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

### TTC-VS-004: UIã«ã€Œã¨ã¦ã‚‚é…ã„ã€ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: è¨­å®šç”»é¢ã«ã€Œã¨ã¦ã‚‚é…ã„ã€é¸æŠžè‚¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: TTSSpeedSettingsWidgetã«4ã¤ç›®ã®ãƒœã‚¿ãƒ³ãŒå­˜åœ¨ã™ã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ã€Œã¨ã¦ã‚‚é…ã„ã€ã€Œé…ã„ã€ã€Œæ™®é€šã€ã€Œé€Ÿã„ã€ã®4ã¤ã®ãƒœã‚¿ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**: ãªã—ï¼ˆè¨­å®šç”»é¢ã‚’è¡¨ç¤ºï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¨­å®šç”»é¢ã‚’é–‹ã„ãŸçŠ¶æ…‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**: `find.text('ã¨ã¦ã‚‚é…ã„')`ãŒ1ä»¶è¦‹ã¤ã‹ã‚‹
  - **æœŸå¾…çµæžœã®ç†ç”±**: UIä»•æ§˜ã§4ã¤ã®é¸æŠžè‚¢ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: UIæ‹¡å¼µãŒæ­£ã—ãå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¦ä»¶ï¼ˆæœ€å°ã‚¿ãƒƒãƒ—ã‚µã‚¤ã‚º44pxï¼‰ã‚‚ç¶­æŒã•ã‚Œã¦ã„ã‚‹ã“ã¨
- ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ†ã‚¹ãƒˆï¼ˆtts_speed_settings_widget_test.dart TC-049-018ï¼‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

### TTC-VS-005: ã€Œã¨ã¦ã‚‚é…ã„ã€ãƒœã‚¿ãƒ³ã‚’ã‚¿ãƒƒãƒ—ã™ã‚‹ã¨é€Ÿåº¦ãŒå¤‰æ›´ã•ã‚Œã‚‹

- **ãƒ†ã‚¹ãƒˆå**: ã€Œã¨ã¦ã‚‚é…ã„ã€ãƒœã‚¿ãƒ³ã‚¿ãƒƒãƒ—ã§è¨­å®šãŒæ›´æ–°ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã«å¯¾ã™ã‚‹UIå¿œç­”
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ã‚¿ãƒƒãƒ—å¾Œã€AppSettings.ttsSpeedãŒTTSSpeed.verySlowã«æ›´æ–°ã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**: ã€Œã¨ã¦ã‚‚é…ã„ã€ãƒœã‚¿ãƒ³ã¸ã®ã‚¿ãƒƒãƒ—
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒé€Ÿåº¦ã‚’æœ€ã‚‚é…ã„è¨­å®šã«å¤‰æ›´ã™ã‚‹æ“ä½œ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**: `state.ttsSpeed == TTSSpeed.verySlow`
  - **æœŸå¾…çµæžœã®ç†ç”±**: REQ-2007ï¼ˆå³åº§åæ˜ ï¼‰ã«æº–æ‹ 
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãå‡¦ç†ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¿ãƒƒãƒ—å¿œç­”ãŒ100msä»¥å†…ï¼ˆNFR-003ï¼‰
- ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ†ã‚¹ãƒˆï¼ˆtts_speed_settings_widget_test.dart TC-049-020ï¼‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

### TTC-VS-006: ã€Œã¨ã¦ã‚‚é…ã„ã€é¸æŠžæ™‚ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º

- **ãƒ†ã‚¹ãƒˆå**: ã€Œã¨ã¦ã‚‚é…ã„ã€ãŒé¸æŠžçŠ¶æ…‹ã§è¦–è¦šçš„ã«åŒºåˆ¥ã•ã‚Œã‚‹
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: ç¾åœ¨ã®è¨­å®šãŒUIä¸Šã§ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ã€Œã¨ã¦ã‚‚é…ã„ã€ãƒœã‚¿ãƒ³ãŒé¸æŠžçŠ¶æ…‹ã®ã‚¹ã‚¿ã‚¤ãƒ«ã§è¡¨ç¤ºã•ã‚Œã‚‹
- **å…¥åŠ›å€¤**: `AppSettings(ttsSpeed: TTSSpeed.verySlow)`
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¢ã«ã€Œã¨ã¦ã‚‚é…ã„ã€ã‚’é¸æŠžã—ã¦ã„ã‚‹çŠ¶æ…‹
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**: ã€Œã¨ã¦ã‚‚é…ã„ã€ãƒœã‚¿ãƒ³ãŒãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºã•ã‚Œã‚‹
  - **æœŸå¾…çµæžœã®ç†ç”±**: æ—¢å­˜ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤ºãƒ‘ã‚¿ãƒ¼ãƒ³ã¨ä¸€è‡´ã™ã‚‹ã“ã¨
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ç¢ºèª
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: WCAG 2.1 AAãƒ¬ãƒ™ãƒ«æº–æ‹ ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ
- ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ†ã‚¹ãƒˆï¼ˆtts_speed_settings_widget_test.dart TC-049-019ï¼‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

---

## 2. ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼‰

### TTC-VS-007: ä¸æ­£ãªé€Ÿåº¦å€¤ã‹ã‚‰ã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

- **ãƒ†ã‚¹ãƒˆå**: ä¸æ­£ãªtts_speedå€¤ãŒã‚ã‚‹å ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: SharedPreferencesã«ä¸æ­£ãªå€¤ãŒä¿å­˜ã•ã‚Œã¦ã„ã‚‹å ´åˆ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ã‚¢ãƒ—ãƒªã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã‚’é˜²ãŽã€åŸºæœ¬æ©Ÿèƒ½ã‚’ç¶­æŒã™ã‚‹
- **å…¥åŠ›å€¤**: `{'tts_speed': 'invalid'}`
  - **ä¸æ­£ãªç†ç”±**: TTSSpeed enumã«å­˜åœ¨ã—ãªã„å€¤
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‹ã‚‰ã®ç§»è¡Œã€ãƒ‡ãƒ¼ã‚¿ç ´æ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**: `AppSettings.ttsSpeed == TTSSpeed.normal`ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ï¼‰
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯è¡¨ç¤ºã›ãšã€é™ã‹ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ã‚¢ãƒ—ãƒªã¯æ­£å¸¸ã«å‹•ä½œã—ç¶šã‘ã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ã‚¨ãƒ©ãƒ¼è€æ€§ã®ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: NFR-301ï¼ˆåŸºæœ¬æ©Ÿèƒ½ã¯ç¶™ç¶šå‹•ä½œï¼‰æº–æ‹ 
- ðŸ”µ é’ä¿¡å·: æ—¢å­˜å®Ÿè£…ï¼ˆapp_settings.dart fromJson()ï¼‰ã®ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

### TTC-VS-008: æ—¢å­˜è¨­å®šï¼ˆ"slow", "normal", "fast"ï¼‰ã®å¾Œæ–¹äº’æ›æ€§

- **ãƒ†ã‚¹ãƒˆå**: æ—¢å­˜ã®3æ®µéšŽè¨­å®šãŒæ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã‚‹ã“ã¨
  - **ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®æ¦‚è¦**: å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ã®ç§»è¡Œ
  - **ã‚¨ãƒ©ãƒ¼å‡¦ç†ã®é‡è¦æ€§**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ—¢å­˜è¨­å®šã‚’å¤±ã‚ãªã„
- **å…¥åŠ›å€¤**: `{'tts_speed': 'slow'}`, `{'tts_speed': 'normal'}`, `{'tts_speed': 'fast'}`
  - **ä¸æ­£ãªç†ç”±**: ä¸æ­£ã§ã¯ãªã„ãŒã€æ–°ã—ã„enumå€¤ãŒè¿½åŠ ã•ã‚ŒãŸçŠ¶æ…‹ã§ã®äº’æ›æ€§ç¢ºèª
  - **å®Ÿéš›ã®ç™ºç”Ÿã‚·ãƒŠãƒªã‚ª**: ã‚¢ãƒ—ãƒªã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå¾Œã®åˆå›žèµ·å‹•
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - `'slow'` â†’ `TTSSpeed.slow`
  - `'normal'` â†’ `TTSSpeed.normal`
  - `'fast'` â†’ `TTSSpeed.fast`
  - **ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å†…å®¹**: ãªã—ï¼ˆæ­£å¸¸å‹•ä½œï¼‰
  - **ã‚·ã‚¹ãƒ†ãƒ ã®å®‰å…¨æ€§**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ—¢å­˜è¨­å®šãŒä¿æŒã•ã‚Œã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: å¾Œæ–¹äº’æ›æ€§ã®ç¢ºèª
  - **å“è³ªä¿è¨¼ã®è¦³ç‚¹**: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¸ã®å½±éŸ¿ã‚’æœ€å°åŒ–
- ðŸ”µ é’ä¿¡å·: è¦ä»¶å®šç¾©æ›¸ã®ã€Œå¾Œæ–¹äº’æ›æ€§ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã«åŸºã¥ã

---

## 3. å¢ƒç•Œå€¤ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ï¼ˆæœ€å°å€¤ã€æœ€å¤§å€¤ã€nullç­‰ï¼‰

### TTC-VS-009: ã™ã¹ã¦ã®TTSSpeed enumå€¤ãŒæ­£ã—ã„é€Ÿåº¦å€¤ã‚’è¿”ã™

- **ãƒ†ã‚¹ãƒˆå**: TTSSpeed enumã®å…¨å€¤ï¼ˆverySlow/slow/normal/fastï¼‰ã®é€Ÿåº¦å€¤ç¢ºèª
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: é€Ÿåº¦ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®å…¨ç¯„å›²ã‚’ãƒ†ã‚¹ãƒˆ
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ã™ã¹ã¦ã®é€Ÿåº¦è¨­å®šãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
- **å…¥åŠ›å€¤**: `[TTSSpeed.verySlow, TTSSpeed.slow, TTSSpeed.normal, TTSSpeed.fast]`
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: enumã®å…¨å€¤ã‚’ãƒ†ã‚¹ãƒˆ
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã™ã¹ã¦ã®é€Ÿåº¦è¨­å®šã‚’è©¦ã™å ´åˆ
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - `verySlow.value == 0.5`
  - `slow.value == 0.7`
  - `normal.value == 1.0`
  - `fast.value == 1.3`
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: å„å€¤ãŒæ­£ç¢ºã«å®šç¾©ã•ã‚ŒãŸå€¤ã‚’è¿”ã™
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ã™ã¹ã¦ã®å€¤ã§ã‚²ãƒƒã‚¿ãƒ¼ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: enumæ‹¡å¼µã®å®Œå…¨æ€§ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: æ–°ã—ã„å€¤ã®è¿½åŠ ãŒæ—¢å­˜ã®å€¤ã«å½±éŸ¿ã—ãªã„ã“ã¨
- ðŸ”µ é’ä¿¡å·: è¦ä»¶å®šç¾©æ›¸ã®ã€Œé€Ÿåº¦å€¤ã®å®šç¾©ã€ãƒ†ãƒ¼ãƒ–ãƒ«ã«åŸºã¥ã

### TTC-VS-010: flutter_ttsã®é€Ÿåº¦ç¯„å›²å†…ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª

- **ãƒ†ã‚¹ãƒˆå**: 0.5ãŒflutter_ttsã®æœ‰åŠ¹ãªé€Ÿåº¦ç¯„å›²å†…ã§ã‚ã‚‹ã“ã¨
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: flutter_ttsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®é€Ÿåº¦ä»•æ§˜ã¨ã®æ•´åˆæ€§
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: OSæ¨™æº–TTSã‚¨ãƒ³ã‚¸ãƒ³ã§æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨
- **å…¥åŠ›å€¤**: `TTSSpeed.verySlow.value` (0.5)
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: flutter_ttsã®é€Ÿåº¦ç¯„å›²ã¯0.0ã€œ1.0ï¼ˆiOSï¼‰ã€0.0ã€œ2.0ï¼ˆAndroidï¼‰
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: iOS/Androidä¸¡æ–¹ã§ã®TTSèª­ã¿ä¸Šã’
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - `0.5 >= 0.0 && 0.5 <= 1.0` (iOSç¯„å›²å†…)
  - `0.5 >= 0.0 && 0.5 <= 2.0` (Androidç¯„å›²å†…)
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: ä¸¡ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§æœ‰åŠ¹ãªå€¤
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã§åŒã˜å‹•ä½œ
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ äº’æ›æ€§ã®ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: flutter_ttsä»•æ§˜ã«æº–æ‹ ã—ã¦ã„ã‚‹ã“ã¨
- ðŸŸ¡ é»„ä¿¡å·: flutter_ttsãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰å¦¥å½“ãªæŽ¨æ¸¬

### TTC-VS-011: SharedPreferencesã¸ã®"verySlow"æ–‡å­—åˆ—ã®ä¿å­˜ãƒ»å¾©å…ƒ

- **ãƒ†ã‚¹ãƒˆå**: ã€Œã¨ã¦ã‚‚é…ã„ã€è¨­å®šã®æ°¸ç¶šåŒ–ãŒæ­£ã—ãå‹•ä½œã™ã‚‹ã“ã¨
  - **å¢ƒç•Œå€¤ã®æ„å‘³**: æ–°ã—ã„enumå€¤ã®æ°¸ç¶šåŒ–ãƒ†ã‚¹ãƒˆ
  - **å¢ƒç•Œå€¤ã§ã®å‹•ä½œä¿è¨¼**: ã‚¢ãƒ—ãƒªå†èµ·å‹•å¾Œã‚‚è¨­å®šãŒä¿æŒã•ã‚Œã‚‹ã“ã¨
- **å…¥åŠ›å€¤**: `TTSSpeed.verySlow`
  - **å¢ƒç•Œå€¤é¸æŠžã®æ ¹æ‹ **: æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸenumå€¤
  - **å®Ÿéš›ã®ä½¿ç”¨å ´é¢**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€Œã¨ã¦ã‚‚é…ã„ã€ã‚’è¨­å®šã—ã¦ã‚¢ãƒ—ãƒªã‚’é–‰ã˜ã€å†åº¦é–‹ã
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - ä¿å­˜: `SharedPreferences.getString('tts_speed') == 'verySlow'`
  - å¾©å…ƒ: `AppSettings.fromJson({'tts_speed': 'verySlow'}).ttsSpeed == TTSSpeed.verySlow`
  - **å¢ƒç•Œã§ã®æ­£ç¢ºæ€§**: æ–‡å­—åˆ—â†’enumå¤‰æ›ãŒæ­£ç¢º
  - **ä¸€è²«ã—ãŸå‹•ä½œ**: ä¿å­˜â†’å¾©å…ƒã®ã‚µã‚¤ã‚¯ãƒ«ã§å€¤ãŒå¤‰ã‚ã‚‰ãªã„
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: æ°¸ç¶šåŒ–ã®å®Œå…¨æ€§ç¢ºèª
  - **å …ç‰¢æ€§ã®ç¢ºèª**: REQ-5003ï¼ˆè¨­å®šæ°¸ç¶šåŒ–ï¼‰æº–æ‹ 
- ðŸ”µ é’ä¿¡å·: æ—¢å­˜ãƒ†ã‚¹ãƒˆï¼ˆtts_speed_integration_test.dart TC-049-015ï¼‰ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã«åŸºã¥ã

---

## 4. UIãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

### TTC-VS-012: 4ã¤ã®ãƒœã‚¿ãƒ³ãŒé©åˆ‡ã«ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã•ã‚Œã‚‹ã“ã¨

- **ãƒ†ã‚¹ãƒˆå**: 4ã¤ã®é€Ÿåº¦ãƒœã‚¿ãƒ³ãŒç”»é¢å¹…å†…ã«åŽã¾ã‚‹ã“ã¨
  - **ä½•ã‚’ãƒ†ã‚¹ãƒˆã™ã‚‹ã‹**: 4ã¤ã®ãƒœã‚¿ãƒ³ãŒæ­£ã—ãé…ç½®ã•ã‚Œã‚‹ã“ã¨
  - **æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ**: ãƒœã‚¿ãƒ³ãŒæ¨ªä¸¦ã³ã§è¡¨ç¤ºã•ã‚Œã€ã™ã¹ã¦è¦‹ãˆã‚‹
- **å…¥åŠ›å€¤**: ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆç”»é¢å¹…ï¼ˆ9.7ã‚¤ãƒ³ãƒç›¸å½“ï¼‰
  - **å…¥åŠ›ãƒ‡ãƒ¼ã‚¿ã®æ„å‘³**: æŽ¨å¥¨ãƒ‡ãƒã‚¤ã‚¹ã§ã®è¡¨ç¤ºç¢ºèª
- **æœŸå¾…ã•ã‚Œã‚‹çµæžœ**:
  - 4ã¤ã®ãƒœã‚¿ãƒ³ã™ã¹ã¦ãŒè¡¨ç¤ºã•ã‚Œã‚‹
  - ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒ­ãƒ¼ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãªã„
  - å„ãƒœã‚¿ãƒ³ã®æœ€å°ã‚¿ãƒƒãƒ—ã‚µã‚¤ã‚ºãŒ44pxä»¥ä¸Š
  - **æœŸå¾…çµæžœã®ç†ç”±**: NFR-402ï¼ˆæŽ¨å¥¨ãƒ‡ãƒã‚¤ã‚¹9.7ã‚¤ãƒ³ãƒä»¥ä¸Šï¼‰
- **ãƒ†ã‚¹ãƒˆã®ç›®çš„**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆå´©ã‚Œã®é˜²æ­¢
  - **ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**: ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¦ä»¶ï¼ˆREQ-5001ï¼‰ç¶­æŒ
- ðŸŸ¡ é»„ä¿¡å·: è¦ä»¶å®šç¾©æ›¸ã®ã€ŒUIè¨­è¨ˆåˆ¶ç´„ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‹ã‚‰å¦¥å½“ãªæŽ¨æ¸¬

---

## ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã‚µãƒžãƒªãƒ¼

| ã‚«ãƒ†ã‚´ãƒª | ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹æ•° | å„ªå…ˆåº¦ |
|----------|----------------|--------|
| æ­£å¸¸ç³» | 6 | P0: 6 |
| ç•°å¸¸ç³» | 2 | P0: 2 |
| å¢ƒç•Œå€¤ | 3 | P0: 3 |
| UIãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ | 1 | P1: 1 |
| **åˆè¨ˆ** | **12** | P0: 11, P1: 1 |

---

## ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

```
frontend/kotonoha_app/test/
â”œâ”€â”€ features/
â”‚   â”œâ”€â”€ tts/
â”‚   â”‚   â””â”€â”€ domain/
â”‚   â”‚       â””â”€â”€ models/
â”‚   â”‚           â””â”€â”€ tts_speed_test.dart  # TTC-VS-001, TTC-VS-009, TTC-VS-010 (æ–°è¦ä½œæˆ)
â”‚   â”‚       â””â”€â”€ services/
â”‚   â”‚           â””â”€â”€ tts_service_test.dart  # TTC-VS-002 (æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ )
â”‚   â””â”€â”€ settings/
â”‚       â”œâ”€â”€ models/
â”‚       â”‚   â””â”€â”€ app_settings_test.dart  # TTC-VS-007, TTC-VS-008, TTC-VS-011 (æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ )
â”‚       â””â”€â”€ presentation/
â”‚           â””â”€â”€ widgets/
â”‚               â””â”€â”€ tts_speed_settings_widget_test.dart  # TTC-VS-004, TTC-VS-005, TTC-VS-006, TTC-VS-012 (æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ )
â””â”€â”€ integration/
    â””â”€â”€ tts_speed_integration_test.dart  # TTC-VS-003 (æ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«ã«è¿½åŠ )
```

---

## å“è³ªåˆ¤å®š

### åˆ¤å®šçµæžœ: âœ… é«˜å“è³ª

| åŸºæº– | çŠ¶æ…‹ | èª¬æ˜Ž |
|------|------|------|
| ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹åˆ†é¡ž | ç¶²ç¾… | æ­£å¸¸ç³»ãƒ»ç•°å¸¸ç³»ãƒ»å¢ƒç•Œå€¤ãƒ»UIãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ã‚«ãƒãƒ¼ |
| æœŸå¾…å€¤å®šç¾© | æ˜Žç¢º | å„ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã®æœŸå¾…å€¤ãŒå…·ä½“çš„ã«å®šç¾© |
| æŠ€è¡“é¸æŠž | ç¢ºå®š | Dart + flutter_test + mocktail |
| å®Ÿè£…å¯èƒ½æ€§ | ç¢ºå®Ÿ | æ—¢å­˜ãƒ†ã‚¹ãƒˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¸è¥² |

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

æ¬¡ã®ãŠå‹§ã‚ã‚¹ãƒ†ãƒƒãƒ—: `/tsumiki:tdd-red` ã§Redãƒ•ã‚§ãƒ¼ã‚ºï¼ˆå¤±æ•—ãƒ†ã‚¹ãƒˆä½œæˆï¼‰ã‚’é–‹å§‹ã—ã¾ã™ã€‚
