# Phase 1: é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ãƒ»åŸºç›¤å®Ÿè£…

## ãƒ•ã‚§ãƒ¼ã‚ºæ¦‚è¦

- **æœŸé–“**: Week 1-4 (20å–¶æ¥­æ—¥)
- **ç›®æ¨™**: é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã€FlutteråŸºç›¤æ§‹ç¯‰
- **æˆæœç‰©**: å‹•ä½œã™ã‚‹é–‹ç™ºç’°å¢ƒã€DB ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã€Flutter ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆéª¨æ ¼
- **ç·ã‚¿ã‚¹ã‚¯æ•°**: 20ã‚¿ã‚¹ã‚¯
- **ç·å·¥æ•°**: 160æ™‚é–“
- **ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«**: ğŸŸ¡ é»„ä¿¡å·ï¼ˆæŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å®šç¾©æ›¸ã«åŸºã¥ããŒã€å®Ÿè£…æ‰‹é †ã¯æ¨æ¸¬ã‚’å«ã‚€ï¼‰

## ğŸ”µ ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã«ã¤ã„ã¦

ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºã®ã‚¿ã‚¹ã‚¯ã¯ã€ä¸»ã« `docs/tech-stack.md` ã®æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å®šç¾©æ›¸ã«åŸºã¥ã„ã¦ã„ã¾ã™ãŒã€å…·ä½“çš„ãªå®Ÿè£…æ‰‹é †ã‚„Dockerè¨­å®šã®è©³ç´°ã¯æ¨æ¸¬ã‚’å«ã‚“ã§ã„ã¾ã™ã€‚EARSè¦ä»¶å®šç¾©æ›¸ã«ã¯ç’°å¢ƒæ§‹ç¯‰ã®å…·ä½“çš„ãªæ‰‹é †ã¯è¨˜è¼‰ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€é»„ä¿¡å·ã¨ã—ã¦ã„ã¾ã™ã€‚

## é€±æ¬¡è¨ˆç”»

### Week 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®šãƒ»Dockerç’°å¢ƒæ§‹ç¯‰
- **ç›®æ¨™**: Dockeré–‹ç™ºç’°å¢ƒæ§‹ç¯‰ã€Git ãƒªãƒã‚¸ãƒˆãƒªè¨­å®š
- **æˆæœç‰©**: docker-compose.ymlã€README.mdã€åŸºæœ¬è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«

### Week 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
- **ç›®æ¨™**: PostgreSQL ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã€Alembic ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…
- **æˆæœç‰©**: database-schema.sqlå®Ÿè£…ã€ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«

### Week 3: Flutter ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ æ§‹ç¯‰
- **ç›®æ¨™**: Flutter ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆã€ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ è¨­è¨ˆ
- **æˆæœç‰©**: Flutter ã‚¢ãƒ—ãƒªéª¨æ ¼ã€Riverpod è¨­å®š

### Week 4: å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å®Ÿè£…
- **ç›®æ¨™**: å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°å®Ÿè£…
- **æˆæœç‰©**: å†åˆ©ç”¨å¯èƒ½ãªã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã€ãƒ˜ãƒ«ãƒ‘ãƒ¼é–¢æ•°

---

## Week 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸè¨­å®šãƒ»Dockerç’°å¢ƒæ§‹ç¯‰

### Day 1: Gitãƒªãƒã‚¸ãƒˆãƒªåˆæœŸè¨­å®šãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ä½œæˆ

#### TASK-0001: Gitãƒªãƒã‚¸ãƒˆãƒªåˆæœŸè¨­å®š
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-19)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-501: ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆã‚’ç¶­æŒ
- NFR-503: Flutter lintsã€Ruff + Blackæº–æ‹ ã®ã‚³ãƒ¼ãƒ‰å“è³ª

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: ãªã—

**å®Ÿè£…è©³ç´°**:

1. **Gitãƒªãƒã‚¸ãƒˆãƒªåˆæœŸåŒ–**:
   - `.gitignore`ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆï¼ˆPythonã€Flutterã€ç’°å¢ƒå¤‰æ•°ãƒ•ã‚¡ã‚¤ãƒ«é™¤å¤–ï¼‰
   - `.gitattributes`ä½œæˆï¼ˆæ”¹è¡Œã‚³ãƒ¼ãƒ‰çµ±ä¸€ï¼‰
   - README.mdä½œæˆï¼ˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ï¼‰
   - LICENSEä½œæˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰

2. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ**:
   ```
   kotonoha/
   â”œâ”€â”€ backend/          # FastAPI ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
   â”‚   â”œâ”€â”€ app/
   â”‚   â”œâ”€â”€ tests/
   â”‚   â”œâ”€â”€ alembic/
   â”‚   â””â”€â”€ requirements.txt
   â”œâ”€â”€ frontend/         # Flutter ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
   â”‚   â””â”€â”€ kotonoha_app/
   â”œâ”€â”€ infra/            # AWS CDK ã‚¤ãƒ³ãƒ•ãƒ©å®šç¾©
   â”‚   â”œâ”€â”€ bin/
   â”‚   â”œâ”€â”€ lib/
   â”‚   â”œâ”€â”€ test/
   â”‚   â””â”€â”€ cdk.json
   â”œâ”€â”€ docs/             # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
   â”‚   â”œâ”€â”€ spec/
   â”‚   â”œâ”€â”€ design/
   â”‚   â””â”€â”€ tasks/
   â”œâ”€â”€ docker/           # Dockerè¨­å®š
   â”‚   â”œâ”€â”€ backend/
   â”‚   â””â”€â”€ postgres/
   â”œâ”€â”€ .github/          # GitHub Actions CI/CD
   â”‚   â””â”€â”€ workflows/
   â””â”€â”€ docker-compose.yml
   ```

3. **ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ**:
   - `.env.example`ä½œæˆï¼ˆAPI Keyã€DBæ¥ç¶šæƒ…å ±ãªã©ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰
   - ç’°å¢ƒå¤‰æ•°ã®èª¬æ˜ã‚’README.mdã«è¨˜è¼‰

4. **åˆå›ã‚³ãƒŸãƒƒãƒˆ**:
   - åŸºæœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒŸãƒƒãƒˆ
   - mainãƒ–ãƒ©ãƒ³ãƒä¿è­·è¨­å®šï¼ˆGitHubï¼‰

**å®Œäº†æ¡ä»¶**:
- [x] Gitãƒªãƒã‚¸ãƒˆãƒªãŒä½œæˆã•ã‚Œã€åŸºæœ¬çš„ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒå­˜åœ¨ã™ã‚‹
- [x] README.mdã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã¨ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
- [x] `.gitignore`ã§ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒé™¤å¤–ã•ã‚Œã¦ã„ã‚‹
- [x] ç’°å¢ƒå¤‰æ•°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼ˆ.env.exampleï¼‰ãŒå­˜åœ¨ã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

### Day 2: Dockerç’°å¢ƒæ§‹ç¯‰ï¼ˆPostgreSQLï¼‰

#### TASK-0002: PostgreSQL Dockerç’°å¢ƒæ§‹ç¯‰
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-104: HTTPSé€šä¿¡ã€APIé€šä¿¡ã‚’æš—å·åŒ–
- NFR-105: ç’°å¢ƒå¤‰æ•°ã‚’ã‚¢ãƒ—ãƒªå†…ã«ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰ã›ãšã€å®‰å…¨ã«ç®¡ç†

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0001

**å®Ÿè£…è©³ç´°**:

1. **PostgreSQL DockerfileãŠã‚ˆã³è¨­å®š**:
   - `docker/postgres/Dockerfile`ä½œæˆï¼ˆPostgreSQL 15+ï¼‰
   - åˆæœŸåŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆä½œæˆï¼ˆ`docker/postgres/init.sql`ï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å: `kotonoha_db`
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼å: `kotonoha_user`ï¼ˆç’°å¢ƒå¤‰æ•°ã‹ã‚‰èª­ã¿è¾¼ã¿ï¼‰

2. **docker-compose.ymlä½œæˆ**:
   ```yaml
   version: '3.8'
   services:
     postgres:
       build: ./docker/postgres
       container_name: kotonoha_postgres
       environment:
         POSTGRES_USER: ${POSTGRES_USER}
         POSTGRES_PASSWORD: ${POSTGRES_PASSWORD}
         POSTGRES_DB: ${POSTGRES_DB}
       ports:
         - "5432:5432"
       volumes:
         - postgres_data:/var/lib/postgresql/data
       networks:
         - kotonoha_network

   volumes:
     postgres_data:

   networks:
     kotonoha_network:
       driver: bridge
   ```

3. **ç’°å¢ƒå¤‰æ•°è¨­å®š**:
   - `.env.example`ã«PostgreSQLè¨­å®šã‚’è¿½åŠ :
     ```
     POSTGRES_USER=kotonoha_user
     POSTGRES_PASSWORD=your_secure_password
     POSTGRES_DB=kotonoha_db
     ```

4. **å‹•ä½œç¢ºèª**:
   - `docker-compose up -d postgres`ã§PostgreSQLèµ·å‹•
   - `docker exec -it kotonoha_postgres psql -U kotonoha_user -d kotonoha_db`ã§æ¥ç¶šç¢ºèª

**å®Œäº†æ¡ä»¶**:
- [x] PostgreSQLãŒDockerã‚³ãƒ³ãƒ†ãƒŠã§èµ·å‹•ã™ã‚‹
- [x] ç’°å¢ƒå¤‰æ•°ã‹ã‚‰è¨­å®šãŒèª­ã¿è¾¼ã¾ã‚Œã‚‹
- [x] docker-compose.ymlã§PostgreSQLã‚µãƒ¼ãƒ“ã‚¹ãŒå®šç¾©ã•ã‚Œã¦ã„ã‚‹
- [x] å¤–éƒ¨ãƒ„ãƒ¼ãƒ«ï¼ˆpsqlã€pgAdminï¼‰ã‹ã‚‰æ¥ç¶šã§ãã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

### Day 3: Dockerç’°å¢ƒæ§‹ç¯‰ï¼ˆFastAPIãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼‰

#### TASK-0003: FastAPI Dockerç’°å¢ƒæ§‹ç¯‰
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-002: AIå¤‰æ›ã®å¿œç­”æ™‚é–“ã‚’å¹³å‡3ç§’ä»¥å†…
- NFR-104: HTTPSé€šä¿¡ã€APIé€šä¿¡ã‚’æš—å·åŒ–

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0002

**å®Ÿè£…è©³ç´°**:

1. **FastAPI Dockerfileä½œæˆ**:
   - `docker/backend/Dockerfile`:
     ```dockerfile
     FROM python:3.10-slim

     WORKDIR /app

     # ã‚·ã‚¹ãƒ†ãƒ ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
     RUN apt-get update && apt-get install -y \
         gcc \
         postgresql-client \
         && rm -rf /var/lib/apt/lists/*

     # Pythonä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
     COPY backend/requirements.txt .
     RUN pip install --no-cache-dir -r requirements.txt

     # ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ”ãƒ¼
     COPY backend/ .

     # å®Ÿè¡Œ
     CMD ["uvicorn", "app.main:app", "--host", "0.0.0.0", "--port", "8000", "--reload"]
     ```

2. **backend/requirements.txtä½œæˆ**:
   ```
   fastapi==0.121.0
   uvicorn[standard]==0.34.0
   sqlalchemy==2.0.36
   alembic==1.17.1
   asyncpg==0.30.0
   pydantic==2.10.6
   pydantic-settings==2.7.0
   python-jose[cryptography]==3.3.0
   passlib[bcrypt]==1.7.4
   python-multipart==0.0.20
   httpx==0.28.1
   pytest==8.3.5
   pytest-asyncio==0.25.2
   pytest-cov==6.0.0
   ruff==0.8.5
   black==24.10.0
   ```

3. **docker-compose.ymlã«FastAPIã‚µãƒ¼ãƒ“ã‚¹è¿½åŠ **:
   ```yaml
   backend:
     build:
       context: .
       dockerfile: ./docker/backend/Dockerfile
     container_name: kotonoha_backend
     environment:
       DATABASE_URL: postgresql+asyncpg://${POSTGRES_USER}:${POSTGRES_PASSWORD}@postgres:5432/${POSTGRES_DB}
       SECRET_KEY: ${SECRET_KEY}
     ports:
       - "8000:8000"
     volumes:
       - ./backend:/app
     depends_on:
       - postgres
     networks:
       - kotonoha_network
   ```

4. **FastAPIæœ€å°å®Ÿè£…**:
   - `backend/app/main.py`ä½œæˆ:
     ```python
     from fastapi import FastAPI

     app = FastAPI(title="kotonoha API", version="1.0.0")

     @app.get("/")
     async def root():
         return {"message": "kotonoha API is running"}

     @app.get("/health")
     async def health_check():
         return {"status": "ok"}
     ```

5. **å‹•ä½œç¢ºèª**:
   - `docker-compose up -d backend`ã§FastAPIèµ·å‹•
   - `http://localhost:8000/docs`ã§Swagger UIç¢ºèª
   - `http://localhost:8000/health`ã§ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯

**å®Œäº†æ¡ä»¶**:
- FastAPIãŒDockerã‚³ãƒ³ãƒ†ãƒŠã§èµ·å‹•ã™ã‚‹
- Swagger UIï¼ˆhttp://localhost:8000/docsï¼‰ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹
- ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒæ­£å¸¸å¿œç­”ã™ã‚‹
- ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ï¼ˆ--reloadï¼‰ãŒå‹•ä½œã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

### Day 4: Pythonä»®æƒ³ç’°å¢ƒãƒ»Linter/Formatterè¨­å®š

#### TASK-0004: Pythoné–‹ç™ºç’°å¢ƒè¨­å®š
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-503: Ruff + Blackæº–æ‹ ã®ã‚³ãƒ¼ãƒ‰å“è³ª
- NFR-501: ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆ

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0003

**å®Ÿè£…è©³ç´°**:

1. **pyproject.tomlä½œæˆ**:
   - `backend/pyproject.toml`:
     ```toml
     [tool.ruff]
     line-length = 100
     target-version = "py310"
     select = ["E", "F", "I", "N", "W", "B", "ANN", "S", "C90"]
     ignore = ["ANN101", "ANN102", "S101"]

     [tool.ruff.per-file-ignores]
     "tests/*" = ["S101", "ANN"]

     [tool.black]
     line-length = 100
     target-version = ['py310']

     [tool.pytest.ini_options]
     testpaths = ["tests"]
     python_files = "test_*.py"
     python_classes = "Test*"
     python_functions = "test_*"
     asyncio_mode = "auto"
     addopts = "--cov=app --cov-report=html --cov-report=term-missing"

     [tool.coverage.run]
     source = ["app"]
     omit = ["*/tests/*", "*/migrations/*"]

     [tool.coverage.report]
     fail_under = 80
     ```

2. **pre-commitè¨­å®š**:
   - `.pre-commit-config.yaml`ä½œæˆ:
     ```yaml
     repos:
       - repo: https://github.com/astral-sh/ruff-pre-commit
         rev: v0.8.5
         hooks:
           - id: ruff
             args: [--fix]
       - repo: https://github.com/psf/black
         rev: 24.10.0
         hooks:
           - id: black
     ```

3. **VSCodeè¨­å®šï¼ˆæ¨å¥¨ï¼‰**:
   - `.vscode/settings.json`:
     ```json
     {
       "python.linting.enabled": true,
       "python.linting.ruffEnabled": true,
       "python.formatting.provider": "black",
       "editor.formatOnSave": true,
       "python.testing.pytestEnabled": true,
       "python.testing.unittestEnabled": false
     }
     ```

4. **Makefileä½œæˆï¼ˆã‚¿ã‚¹ã‚¯å®Ÿè¡Œè£œåŠ©ï¼‰**:
   - `backend/Makefile`:
     ```makefile
     .PHONY: lint format test test-cov

     lint:
         ruff check app tests

     format:
         black app tests
         ruff check app tests --fix

     test:
         pytest

     test-cov:
         pytest --cov=app --cov-report=html --cov-report=term-missing
     ```

5. **å‹•ä½œç¢ºèª**:
   - `cd backend && make lint`ã§Lintãƒã‚§ãƒƒã‚¯
   - `cd backend && make format`ã§ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ
   - `cd backend && make test`ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆåˆæœŸçŠ¶æ…‹ã¯ç©ºï¼‰

**å®Œäº†æ¡ä»¶**:
- Ruffã«ã‚ˆã‚‹é™çš„è§£æãŒå®Ÿè¡Œã§ãã‚‹
- Blackã«ã‚ˆã‚‹è‡ªå‹•ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒå®Ÿè¡Œã§ãã‚‹
- pytestãŒå®Ÿè¡Œã§ãã‚‹ï¼ˆãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯ç©ºã§ã‚‚å¯ï¼‰
- pyproject.tomlã§å“è³ªåŸºæº–ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

### Day 5: Flutteré–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### TASK-0005: Flutteré–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-401: iOS 14.0ä»¥ä¸Šã€Android 10ä»¥ä¸Šã§å‹•ä½œ
- NFR-503: Flutter lintsæº–æ‹ ã®ã‚³ãƒ¼ãƒ‰å“è³ª

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0001

**å®Ÿè£…è©³ç´°**:

1. **Flutter SDKç¢ºèª**:
   - Flutter 3.38.1ä»¥ä¸Šã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª
   - `flutter doctor`ã§ç’°å¢ƒãƒã‚§ãƒƒã‚¯
   - iOS/Android SDKã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

2. **Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ**:
   - `cd frontend`
   - `flutter create --org com.kotonoha --platforms=ios,android,web kotonoha_app`
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå: `kotonoha_app`
   - Bundle ID: `com.kotonoha.kotonoha_app`

3. **analysis_options.yamlè¨­å®š**:
   - `frontend/kotonoha_app/analysis_options.yaml`:
     ```yaml
     include: package:flutter_lints/flutter.yaml

     linter:
       rules:
         - prefer_const_constructors
         - prefer_const_literals_to_create_immutables
         - avoid_print
         - avoid_unnecessary_containers
         - sized_box_for_whitespace
         - use_key_in_widget_constructors
         - prefer_final_fields
         - unnecessary_this

     analyzer:
       exclude:
         - "**/*.g.dart"
         - "**/*.freezed.dart"
       errors:
         invalid_annotation_target: ignore
     ```

4. **VSCodeè¨­å®šï¼ˆFlutterï¼‰**:
   - `.vscode/settings.json`ã«è¿½åŠ :
     ```json
     {
       "[dart]": {
         "editor.formatOnSave": true,
         "editor.rulers": [80]
       },
       "dart.lineLength": 80
     }
     ```

5. **å‹•ä½œç¢ºèª**:
   - `cd frontend/kotonoha_app`
   - `flutter pub get`ã§ä¾å­˜é–¢ä¿‚è§£æ±º
   - `flutter analyze`ã§Lintãƒã‚§ãƒƒã‚¯
   - `flutter test`ã§ãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼ˆåˆæœŸãƒ†ã‚¹ãƒˆï¼‰
   - `flutter run -d chrome`ã§Webå®Ÿè¡Œç¢ºèª

**å®Œäº†æ¡ä»¶**:
- Flutter 3.38.1ä»¥ä¸ŠãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹
- `flutter doctor`ã§ã‚¨ãƒ©ãƒ¼ãŒãªã„ï¼ˆã¾ãŸã¯è¨±å®¹ã§ãã‚‹è­¦å‘Šã®ã¿ï¼‰
- Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã•ã‚Œã€åˆæœŸçŠ¶æ…‹ã§å®Ÿè¡Œã§ãã‚‹
- `flutter analyze`ã§ã‚¨ãƒ©ãƒ¼ãŒãªã„

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

## Week 2: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³

### Day 6: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆ

#### TASK-0006: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒè¨­è¨ˆãƒ»SQLä½œæˆ
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- REQ-901: AIå¤‰æ›æ©Ÿèƒ½ï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ã§å±¥æ­´ä¿å­˜ç”¨ï¼‰
- NFR-304: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0002

**å®Ÿè£…è©³ç´°**:

1. **database-schema.sqlä½œæˆ**:
   - `docs/design/kotonoha/database-schema.sql`ã‚’å®Ÿè£…:
   ```sql
   -- AIå¤‰æ›å±¥æ­´ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆå°†æ¥çš„ãªå­¦ç¿’ãƒ»çµ±è¨ˆç”¨ï¼‰
   CREATE TABLE ai_conversion_history (
       id SERIAL PRIMARY KEY,
       input_text TEXT NOT NULL,
       converted_text TEXT NOT NULL,
       politeness_level VARCHAR(20) NOT NULL CHECK (politeness_level IN ('casual', 'normal', 'polite')),
       created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
       conversion_time_ms INTEGER,
       user_session_id UUID
   );

   -- AIå¤‰æ›å±¥æ­´ã®ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
   CREATE INDEX idx_ai_conversion_created_at ON ai_conversion_history(created_at DESC);
   CREATE INDEX idx_ai_conversion_session ON ai_conversion_history(user_session_id);

   -- ç®¡ç†è€…ç”¨ãƒ†ãƒ¼ãƒ–ãƒ«ï¼ˆå°†æ¥æ‹¡å¼µç”¨ï¼‰
   CREATE TABLE admin_users (
       id SERIAL PRIMARY KEY,
       username VARCHAR(50) UNIQUE NOT NULL,
       hashed_password VARCHAR(255) NOT NULL,
       email VARCHAR(100) UNIQUE,
       is_active BOOLEAN DEFAULT TRUE,
       created_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP,
       updated_at TIMESTAMP WITH TIME ZONE DEFAULT CURRENT_TIMESTAMP
   );
   ```

2. **ERDä½œæˆï¼ˆMermaidï¼‰**:
   - `docs/design/kotonoha/database-erd.md`ä½œæˆ:
   ```markdown
   # ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ERå›³

   ```mermaid
   erDiagram
       ai_conversion_history {
           serial id PK
           text input_text
           text converted_text
           varchar politeness_level
           timestamp created_at
           integer conversion_time_ms
           uuid user_session_id
       }

       admin_users {
           serial id PK
           varchar username UK
           varchar hashed_password
           varchar email UK
           boolean is_active
           timestamp created_at
           timestamp updated_at
       }
   ```

3. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«èª¬æ˜æ›¸ä½œæˆ**:
   - README.mdã¾ãŸã¯åˆ¥ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ãƒ†ãƒ¼ãƒ–ãƒ«ä»•æ§˜ã‚’è¨˜è¼‰
   - å„ã‚«ãƒ©ãƒ ã®èª¬æ˜ã€åˆ¶ç´„ã€ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã€å¤–éƒ¨ã‚­ãƒ¼é–¢ä¿‚

**å®Œäº†æ¡ä»¶**:
- [x] database-schema.sqlãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- [x] ERDï¼ˆMermaidå½¢å¼ï¼‰ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- [x] ãƒ†ãƒ¼ãƒ–ãƒ«èª¬æ˜æ›¸ãŒå­˜åœ¨ã™ã‚‹
- [x] SQLãƒ•ã‚¡ã‚¤ãƒ«ãŒPostgreSQLã§å®Ÿè¡Œå¯èƒ½ï¼ˆæ–‡æ³•ã‚¨ãƒ©ãƒ¼ãªã—ï¼‰

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

### Day 7: AlembicåˆæœŸè¨­å®š

#### TASK-0007: AlembicåˆæœŸè¨­å®šãƒ»ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç’°å¢ƒæ§‹ç¯‰
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-304: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- NFR-501: ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆ

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0006

**å®Ÿè£…è©³ç´°**:

1. **AlembicåˆæœŸåŒ–**:
   - `cd backend`
   - `alembic init alembic`
   - `alembic/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒç”Ÿæˆã•ã‚Œã‚‹

2. **alembic.iniè¨­å®š**:
   - `backend/alembic.ini`ç·¨é›†:
   ```ini
   [alembic]
   script_location = alembic
   prepend_sys_path = .
   version_path_separator = os
   sqlalchemy.url = postgresql+asyncpg://%(DB_USER)s:%(DB_PASSWORD)s@%(DB_HOST)s:%(DB_PORT)s/%(DB_NAME)s
   ```

3. **env.pyè¨­å®š**:
   - `backend/alembic/env.py`ç·¨é›†:
   ```python
   import asyncio
   from logging.config import fileConfig
   from sqlalchemy import pool
   from sqlalchemy.engine import Connection
   from sqlalchemy.ext.asyncio import async_engine_from_config
   from alembic import context
   from app.db.base import Base  # å…¨ãƒ¢ãƒ‡ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
   from app.core.config import settings

   config = context.config

   # ç’°å¢ƒå¤‰æ•°ã‹ã‚‰DBæ¥ç¶šæƒ…å ±ã‚’è¨­å®š
   config.set_main_option("DB_USER", settings.POSTGRES_USER)
   config.set_main_option("DB_PASSWORD", settings.POSTGRES_PASSWORD)
   config.set_main_option("DB_HOST", settings.POSTGRES_HOST)
   config.set_main_option("DB_PORT", str(settings.POSTGRES_PORT))
   config.set_main_option("DB_NAME", settings.POSTGRES_DB)

   target_metadata = Base.metadata

   # ... éåŒæœŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š
   ```

4. **è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**:
   - `backend/app/core/config.py`:
   ```python
   from pydantic_settings import BaseSettings

   class Settings(BaseSettings):
       POSTGRES_USER: str
       POSTGRES_PASSWORD: str
       POSTGRES_HOST: str = "localhost"
       POSTGRES_PORT: int = 5432
       POSTGRES_DB: str
       SECRET_KEY: str

       class Config:
           env_file = ".env"

   settings = Settings()
   ```

5. **å‹•ä½œç¢ºèª**:
   - `alembic revision --autogenerate -m "Initial migration"`ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ
   - `alembic upgrade head`ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ

**å®Œäº†æ¡ä»¶**:
- [x] AlembicãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹
- [x] alembic.iniãŒç’°å¢ƒå¤‰æ•°ã‹ã‚‰è¨­å®šã‚’èª­ã¿è¾¼ã‚€
- [x] env.pyãŒSQLAlchemyã«å¯¾å¿œã—ã¦ã„ã‚‹
- [x] åˆæœŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆå¯èƒ½ï¼ˆTASK-0008ã§å®Ÿæ–½ï¼‰
- [x] PostgreSQLã«æ¥ç¶šã§ãã‚‹
- [x] `alembic current`ã‚³ãƒãƒ³ãƒ‰ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

**å®Ÿè£…è¨˜éŒ²**: `docs/implements/kotonoha/TASK-0007/`

---

### Day 8: SQLAlchemyãƒ¢ãƒ‡ãƒ«å®Ÿè£…

#### TASK-0008: SQLAlchemyãƒ¢ãƒ‡ãƒ«å®Ÿè£…
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- REQ-901: AIå¤‰æ›æ©Ÿèƒ½
- NFR-304: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0007

**å®Ÿè£…è©³ç´°**:

1. **ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ä½œæˆ**:
   - `backend/app/db/base_class.py`:
   ```python
   from datetime import datetime
   from sqlalchemy import Column, DateTime
   from sqlalchemy.orm import as_declarative, declared_attr

   @as_declarative()
   class Base:
       id: int
       __name__: str

       @declared_attr
       def __tablename__(cls) -> str:
           return cls.__name__.lower()
   ```

2. **AIå¤‰æ›å±¥æ­´ãƒ¢ãƒ‡ãƒ«**:
   - `backend/app/models/ai_conversion_history.py`:
   ```python
   from sqlalchemy import Column, Integer, String, Text, DateTime, Enum
   from sqlalchemy.dialects.postgresql import UUID
   from datetime import datetime
   import enum
   from app.db.base_class import Base

   class PolitenessLevel(str, enum.Enum):
       CASUAL = "casual"
       NORMAL = "normal"
       POLITE = "polite"

   class AIConversionHistory(Base):
       __tablename__ = "ai_conversion_history"

       id = Column(Integer, primary_key=True, index=True)
       input_text = Column(Text, nullable=False)
       converted_text = Column(Text, nullable=False)
       politeness_level = Column(Enum(PolitenessLevel), nullable=False)
       created_at = Column(DateTime(timezone=True), default=datetime.utcnow)
       conversion_time_ms = Column(Integer)
       user_session_id = Column(UUID(as_uuid=True))
   ```

3. **ãƒ¢ãƒ‡ãƒ«é›†ç´„**:
   - `backend/app/db/base.py`:
   ```python
   from app.db.base_class import Base
   from app.models.ai_conversion_history import AIConversionHistory
   # å°†æ¥çš„ãªè¿½åŠ ãƒ¢ãƒ‡ãƒ«ã‚‚ã“ã“ã§ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
   ```

4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†**:
   - `backend/app/db/session.py`:
   ```python
   from sqlalchemy.ext.asyncio import create_async_engine, AsyncSession
   from sqlalchemy.orm import sessionmaker
   from app.core.config import settings

   DATABASE_URL = f"postgresql+asyncpg://{settings.POSTGRES_USER}:{settings.POSTGRES_PASSWORD}@{settings.POSTGRES_HOST}:{settings.POSTGRES_PORT}/{settings.POSTGRES_DB}"

   engine = create_async_engine(DATABASE_URL, echo=True)
   async_session_maker = sessionmaker(engine, class_=AsyncSession, expire_on_commit=False)

   async def get_db():
       async with async_session_maker() as session:
           yield session
   ```

**å®Œäº†æ¡ä»¶**:
- SQLAlchemyãƒ¢ãƒ‡ãƒ«ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- Alembicã®è‡ªå‹•ç”Ÿæˆã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã§ãã‚‹
- `alembic upgrade head`ã§ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã‚‹
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãƒ†ãƒ¼ãƒ–ãƒ«ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ã‚’ç¢ºèªã§ãã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- ãƒ¢ãƒ‡ãƒ«ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹åŒ–ãƒ†ã‚¹ãƒˆ
- ãƒ¢ãƒ‡ãƒ«ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ

---

### Day 9: åˆå›ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œãƒ»æ¤œè¨¼

#### TASK-0009: åˆå›ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œãƒ»DBæ¥ç¶šãƒ†ã‚¹ãƒˆ
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20) - TDDé–‹ç™ºå®Œäº† (21ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å…¨é€šé)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-304: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿæ™‚ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- NFR-502: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§90%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0008

**å®Ÿè£…è©³ç´°**:

1. **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç”Ÿæˆ**:
   - `alembic revision --autogenerate -m "Create ai_conversion_history table"`
   - ç”Ÿæˆã•ã‚ŒãŸãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªãƒ»ä¿®æ­£

2. **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ**:
   - `alembic upgrade head`ã§ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é©ç”¨
   - PostgreSQLã«æ¥ç¶šã—ã¦ãƒ†ãƒ¼ãƒ–ãƒ«ç¢ºèª:
     ```bash
     docker exec -it kotonoha_postgres psql -U kotonoha_user -d kotonoha_db
     \dt
     \d ai_conversion_history
     ```

3. **ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ†ã‚¹ãƒˆ**:
   - `alembic downgrade -1`ã§ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯
   - `alembic upgrade head`ã§å†é©ç”¨
   - æ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèª

4. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `backend/tests/test_db_connection.py`:
   ```python
   import pytest
   from sqlalchemy import text
   from app.db.session import async_session_maker

   @pytest.mark.asyncio
   async def test_database_connection():
       async with async_session_maker() as session:
           result = await session.execute(text("SELECT 1"))
           assert result.scalar() == 1

   @pytest.mark.asyncio
   async def test_ai_conversion_history_table_exists():
       async with async_session_maker() as session:
           result = await session.execute(
               text("SELECT EXISTS (SELECT FROM information_schema.tables WHERE table_name = 'ai_conversion_history')")
           )
           assert result.scalar() is True
   ```

5. **CRUDãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `backend/tests/test_models.py`:
   ```python
   import pytest
   from uuid import uuid4
   from app.models.ai_conversion_history import AIConversionHistory, PolitenessLevel
   from app.db.session import async_session_maker

   @pytest.mark.asyncio
   async def test_create_ai_conversion_history():
       async with async_session_maker() as session:
           record = AIConversionHistory(
               input_text="ã‚ã‚ŠãŒã¨ã†",
               converted_text="ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™",
               politeness_level=PolitenessLevel.POLITE,
               conversion_time_ms=100,
               user_session_id=uuid4()
           )
           session.add(record)
           await session.commit()
           await session.refresh(record)

           assert record.id is not None
           assert record.input_text == "ã‚ã‚ŠãŒã¨ã†"
           assert record.politeness_level == PolitenessLevel.POLITE
   ```

**å®Œäº†æ¡ä»¶**:
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ãƒ†ãƒ¼ãƒ–ãƒ«ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- ãƒ­ãƒ¼ãƒ«ãƒãƒƒã‚¯ãƒ»å†é©ç”¨ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹
- CRUDãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šãƒ†ã‚¹ãƒˆ
- ãƒ†ãƒ¼ãƒ–ãƒ«å­˜åœ¨ç¢ºèªãƒ†ã‚¹ãƒˆ
- CRUDæ“ä½œãƒ†ã‚¹ãƒˆï¼ˆä½œæˆã€èª­ã¿å–ã‚Šï¼‰

---

### Day 10: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰åŸºæœ¬APIå®Ÿè£…

#### TASK-0010: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ãƒ»åŸºæœ¬APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆå®Ÿè£…
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20) - TDDé–‹ç™ºå®Œäº† (17ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å…¨é€šé)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-504: APIä»•æ§˜ã‚’OpenAPI (Swagger)å½¢å¼ã§è‡ªå‹•ç”Ÿæˆ
- NFR-502: ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ãƒ»APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã§90%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0009

**å®Ÿè£…è©³ç´°**:

1. **FastAPI main.pyæ”¹å–„**:
   - `backend/app/main.py`:
   ```python
   from fastapi import FastAPI, Depends
   from fastapi.middleware.cors import CORSMiddleware
   from sqlalchemy import text
   from sqlalchemy.ext.asyncio import AsyncSession
   from app.db.session import get_db

   app = FastAPI(
       title="kotonoha API",
       version="1.0.0",
       description="æ–‡å­—ç›¤ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ”¯æ´ã‚¢ãƒ—ãƒª ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰API"
   )

   # CORSè¨­å®š
   app.add_middleware(
       CORSMiddleware,
       allow_origins=["http://localhost:3000", "http://localhost:5173"],
       allow_credentials=True,
       allow_methods=["*"],
       allow_headers=["*"],
   )

   @app.get("/")
   async def root():
       return {"message": "kotonoha API is running", "version": "1.0.0"}

   @app.get("/health")
   async def health_check(db: AsyncSession = Depends(get_db)):
       try:
           await db.execute(text("SELECT 1"))
           return {"status": "ok", "database": "connected"}
       except Exception as e:
           return {"status": "error", "database": "disconnected", "error": str(e)}
   ```

2. **APIãƒ«ãƒ¼ã‚¿ãƒ¼æ§‹é€ ä½œæˆ**:
   - `backend/app/api/__init__.py`
   - `backend/app/api/v1/__init__.py`
   - `backend/app/api/v1/endpoints/__init__.py`

3. **ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ï¼ˆPydanticï¼‰**:
   - `backend/app/schemas/health.py`:
   ```python
   from pydantic import BaseModel

   class HealthResponse(BaseModel):
       status: str
       database: str
       error: str | None = None
   ```

4. **APIãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `backend/tests/test_api_health.py`:
   ```python
   import pytest
   from httpx import AsyncClient
   from app.main import app

   @pytest.mark.asyncio
   async def test_root_endpoint():
       async with AsyncClient(app=app, base_url="http://test") as client:
           response = await client.get("/")
           assert response.status_code == 200
           assert response.json()["message"] == "kotonoha API is running"

   @pytest.mark.asyncio
   async def test_health_check():
       async with AsyncClient(app=app, base_url="http://test") as client:
           response = await client.get("/health")
           assert response.status_code == 200
           data = response.json()
           assert data["status"] == "ok"
           assert data["database"] == "connected"
   ```

5. **Swagger UIç¢ºèª**:
   - http://localhost:8000/docs ã§Swagger UIç¢ºèª
   - http://localhost:8000/redoc ã§ReDocç¢ºèª

**å®Œäº†æ¡ä»¶**:
- [x] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯APIãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- [x] Swagger UIã§APIä»•æ§˜ãŒç¢ºèªã§ãã‚‹
- [x] APIãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹
- [x] CORSãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [x] ãƒ«ãƒ¼ãƒˆã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ (3ä»¶)
- [x] ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãƒ†ã‚¹ãƒˆ (6ä»¶)
- [x] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šç¢ºèªãƒ†ã‚¹ãƒˆ
- [x] CORSè¨­å®šãƒ†ã‚¹ãƒˆ (5ä»¶)
- [x] Swagger UI / OpenAPIä»•æ§˜ãƒ†ã‚¹ãƒˆ (3ä»¶)

---

## Week 3: Flutter ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ æ§‹ç¯‰

### Day 11: Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ è¨­è¨ˆ

#### TASK-0011: Flutterãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ è¨­è¨ˆãƒ»å®Ÿè£…
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-503: Flutter lintsæº–æ‹ ã®ã‚³ãƒ¼ãƒ‰å“è³ª
- NFR-501: ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆ

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0005

**å®Ÿè£…è©³ç´°**:

1. **ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ä½œæˆ**:
   - `frontend/kotonoha_app/lib/`ã«ä»¥ä¸‹ã®æ§‹é€ ã‚’ä½œæˆ:
   ```
   lib/
   â”œâ”€â”€ main.dart
   â”œâ”€â”€ app.dart
   â”œâ”€â”€ core/
   â”‚   â”œâ”€â”€ constants/
   â”‚   â”‚   â”œâ”€â”€ app_colors.dart
   â”‚   â”‚   â”œâ”€â”€ app_text_styles.dart
   â”‚   â”‚   â””â”€â”€ app_sizes.dart
   â”‚   â”œâ”€â”€ themes/
   â”‚   â”‚   â”œâ”€â”€ light_theme.dart
   â”‚   â”‚   â”œâ”€â”€ dark_theme.dart
   â”‚   â”‚   â””â”€â”€ high_contrast_theme.dart
   â”‚   â”œâ”€â”€ router/
   â”‚   â”‚   â””â”€â”€ app_router.dart
   â”‚   â””â”€â”€ utils/
   â”‚       â””â”€â”€ logger.dart
   â”œâ”€â”€ features/
   â”‚   â”œâ”€â”€ character_board/
   â”‚   â”‚   â”œâ”€â”€ data/
   â”‚   â”‚   â”œâ”€â”€ domain/
   â”‚   â”‚   â”œâ”€â”€ presentation/
   â”‚   â”‚   â””â”€â”€ providers/
   â”‚   â”œâ”€â”€ preset_phrases/
   â”‚   â”œâ”€â”€ large_buttons/
   â”‚   â”œâ”€â”€ emergency/
   â”‚   â”œâ”€â”€ tts/
   â”‚   â”œâ”€â”€ history/
   â”‚   â”œâ”€â”€ favorites/
   â”‚   â””â”€â”€ settings/
   â”œâ”€â”€ shared/
   â”‚   â”œâ”€â”€ widgets/
   â”‚   â”œâ”€â”€ models/
   â”‚   â””â”€â”€ services/
   â””â”€â”€ l10n/
       â””â”€â”€ app_ja.arb
   ```

2. **å®šæ•°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**:
   - `lib/core/constants/app_colors.dart`:
   ```dart
   import 'package:flutter/material.dart';

   class AppColors {
     // ãƒ©ã‚¤ãƒˆãƒ¢ãƒ¼ãƒ‰
     static const Color primaryLight = Color(0xFF2196F3);
     static const Color backgroundLight = Color(0xFFFFFFFF);

     // ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰
     static const Color primaryDark = Color(0xFF1976D2);
     static const Color backgroundDark = Color(0xFF121212);

     // é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰
     static const Color primaryHighContrast = Color(0xFF000000);
     static const Color backgroundHighContrast = Color(0xFFFFFFFF);

     // ç·Šæ€¥ãƒœã‚¿ãƒ³
     static const Color emergency = Color(0xFFD32F2F);
   }
   ```

   - `lib/core/constants/app_sizes.dart`:
   ```dart
   class AppSizes {
     // ã‚¿ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆæœ€å°ã‚µã‚¤ã‚º (REQ-5001)
     static const double minTapTarget = 44.0;
     static const double recommendedTapTarget = 60.0;

     // ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º (REQ-801)
     static const double fontSizeSmall = 16.0;
     static const double fontSizeMedium = 20.0;
     static const double fontSizeLarge = 24.0;

     // ä½™ç™½
     static const double paddingSmall = 8.0;
     static const double paddingMedium = 16.0;
     static const double paddingLarge = 24.0;
   }
   ```

3. **READMEæ›´æ–°**:
   - `frontend/kotonoha_app/README.md`ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ã®èª¬æ˜ã‚’è¿½åŠ 

**å®Œäº†æ¡ä»¶**:
- [x] ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ ãŒä½œæˆã•ã‚Œã¦ã„ã‚‹
- [x] å®šæ•°ãƒ•ã‚¡ã‚¤ãƒ«ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- [x] å„ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«README.mdï¼ˆèª¬æ˜ï¼‰ãŒå­˜åœ¨ã™ã‚‹
- [x] Flutter analyzeã§ã‚¨ãƒ©ãƒ¼ãŒãªã„

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

**å®Ÿè£…è¨˜éŒ²**: `docs/implements/kotonoha/TASK-0011/`

---

### Day 12: Flutterä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ ãƒ»è¨­å®š

#### TASK-0012: Flutterä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ ãƒ»pubspec.yamlè¨­å®š
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20) - æ¤œè¨¼å®Œäº† (ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ ãƒ»è¨­å®šå®Œäº†)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- REQ-401: OSæ¨™æº–TTSã§èª­ã¿ä¸Šã’
- REQ-601: å±¥æ­´ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«å†…ã«ä¿å­˜

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0011

**å®Ÿè£…è©³ç´°**:

1. **pubspec.yamlç·¨é›†**:
   - `frontend/kotonoha_app/pubspec.yaml`:
   ```yaml
   name: kotonoha_app
   description: æ–‡å­—ç›¤ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ”¯æ´ã‚¢ãƒ—ãƒª
   version: 1.0.0+1

   environment:
     sdk: '>=3.5.0 <4.0.0'

   dependencies:
     flutter:
       sdk: flutter

     # çŠ¶æ…‹ç®¡ç†
     flutter_riverpod: ^2.6.1
     riverpod_annotation: ^2.6.1

     # ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
     go_router: ^14.6.2

     # ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
     shared_preferences: ^2.3.4
     hive: ^2.2.3
     hive_flutter: ^1.1.0

     # HTTPé€šä¿¡
     dio: ^5.7.0
     retrofit: ^4.4.1

     # JSON
     json_annotation: ^4.9.0

     # TTSï¼ˆéŸ³å£°èª­ã¿ä¸Šã’ï¼‰
     flutter_tts: ^4.2.0

     # ãƒ­ã‚®ãƒ³ã‚°
     logger: ^2.5.0

     # å¤šè¨€èªåŒ–
     intl: ^0.20.1
     flutter_localizations:
       sdk: flutter

   dev_dependencies:
     flutter_test:
       sdk: flutter
     flutter_lints: ^5.0.0

     # ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ
     build_runner: ^2.4.14
     riverpod_generator: ^2.6.3
     hive_generator: ^2.0.1
     json_serializable: ^6.9.2
     retrofit_generator: ^9.1.4

     # ãƒ†ã‚¹ãƒˆ
     mocktail: ^1.0.4

   flutter:
     uses-material-design: true
     generate: true
   ```

2. **ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«**:
   - `cd frontend/kotonoha_app`
   - `flutter pub get`

3. **ã‚³ãƒ¼ãƒ‰ç”Ÿæˆè¨­å®š**:
   - `build.yaml`ä½œæˆ:
   ```yaml
   targets:
     $default:
       builders:
         riverpod_generator:
           options:
             riverpod_generator:
               generate_riverpod_annotation: true
   ```

4. **å‹•ä½œç¢ºèª**:
   - `flutter pub get`ã§ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨
   - `flutter pub outdated`ã§ä¾å­˜é–¢ä¿‚ç¢ºèª

**å®Œäº†æ¡ä»¶**:
- [x] pubspec.yamlã«å¿…è¦ãªä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚‹
- [x] `flutter pub get`ã§ã‚¨ãƒ©ãƒ¼ãŒãªã„
- [x] å„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒæœ€æ–°å®‰å®šç‰ˆã§ã‚ã‚‹
- [x] build.yamlãŒä½œæˆã•ã‚ŒRiverpodè¨­å®šãŒæ­£ã—ã„
- [x] `flutter analyze`ã§ã‚¨ãƒ©ãƒ¼ãŒãªã„
- [x] ã‚³ãƒ¼ãƒ‰ç”Ÿæˆï¼ˆbuild_runnerï¼‰ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

**å®Ÿè£…è¨˜éŒ²**: `docs/implements/kotonoha/TASK-0012/`

---

### Day 13: RiverpodçŠ¶æ…‹ç®¡ç†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### TASK-0013: RiverpodçŠ¶æ…‹ç®¡ç†ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼åŸºç›¤å®Ÿè£…
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-20) - TDDé–‹ç™ºå®Œäº† (13ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å…¨é€šéã€è¦ä»¶ç¶²ç¾…ç‡100%)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- REQ-801: ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’3æ®µéšã‹ã‚‰é¸æŠ
- REQ-803: 3ã¤ã®ãƒ†ãƒ¼ãƒã‚’æä¾›

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0012

**å®Ÿè£…è©³ç´°**:

1. **main.dartã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—**:
   - `lib/main.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:flutter_riverpod/flutter_riverpod.dart';
   import 'package:hive_flutter/hive_flutter.dart';
   import 'app.dart';

   void main() async {
     WidgetsFlutterBinding.ensureInitialized();

     // HiveåˆæœŸåŒ–
     await Hive.initFlutter();

     runApp(
       const ProviderScope(
         child: KotonohaApp(),
       ),
     );
   }
   ```

2. **app.dartå®Ÿè£…**:
   - `lib/app.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:flutter_riverpod/flutter_riverpod.dart';
   import 'package:go_router/go_router.dart';
   import 'core/router/app_router.dart';
   import 'core/themes/light_theme.dart';
   import 'core/themes/dark_theme.dart';

   class KotonohaApp extends ConsumerWidget {
     const KotonohaApp({super.key});

     @override
     Widget build(BuildContext context, WidgetRef ref) {
       final router = ref.watch(routerProvider);

       return MaterialApp.router(
         title: 'kotonoha',
         theme: lightTheme,
         darkTheme: darkTheme,
         routerConfig: router,
       );
     }
   }
   ```

3. **è¨­å®šãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å®Ÿè£…**:
   - `lib/features/settings/providers/settings_provider.dart`:
   ```dart
   import 'package:riverpod_annotation/riverpod_annotation.dart';
   import 'package:shared_preferences/shared_preferences.dart';

   part 'settings_provider.g.dart';

   enum FontSize { small, medium, large }
   enum ThemeMode { light, dark, highContrast }

   @riverpod
   class SettingsNotifier extends _$SettingsNotifier {
     late SharedPreferences _prefs;

     @override
     Future<Settings> build() async {
       _prefs = await SharedPreferences.getInstance();
       return Settings(
         fontSize: FontSize.values[_prefs.getInt('fontSize') ?? 1],
         themeMode: ThemeMode.values[_prefs.getInt('themeMode') ?? 0],
       );
     }

     Future<void> setFontSize(FontSize size) async {
       await _prefs.setInt('fontSize', size.index);
       state = AsyncValue.data(
         state.value!.copyWith(fontSize: size),
       );
     }

     Future<void> setThemeMode(ThemeMode mode) async {
       await _prefs.setInt('themeMode', mode.index);
       state = AsyncValue.data(
         state.value!.copyWith(themeMode: mode),
       );
     }
   }

   class Settings {
     final FontSize fontSize;
     final ThemeMode themeMode;

     Settings({required this.fontSize, required this.themeMode});

     Settings copyWith({FontSize? fontSize, ThemeMode? themeMode}) {
       return Settings(
         fontSize: fontSize ?? this.fontSize,
         themeMode: themeMode ?? this.themeMode,
       );
     }
   }
   ```

4. **ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ**:
   - `flutter pub run build_runner build --delete-conflicting-outputs`

5. **ãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `test/features/settings/providers/settings_provider_test.dart`:
   ```dart
   import 'package:flutter_test/flutter_test.dart';
   import 'package:flutter_riverpod/flutter_riverpod.dart';
   import 'package:kotonoha_app/features/settings/providers/settings_provider.dart';

   void main() {
     group('SettingsNotifier', () {
       test('åˆæœŸçŠ¶æ…‹ãŒmediumã€lightã§ã‚ã‚‹ã“ã¨', () async {
         final container = ProviderContainer();
         final settings = await container.read(settingsNotifierProvider.future);

         expect(settings.fontSize, FontSize.medium);
         expect(settings.themeMode, ThemeMode.light);
       });
     });
   }
   ```

**å®Œäº†æ¡ä»¶**:
- [x] Riverpod ProviderScopeãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- [x] è¨­å®šãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- [x] ã‚³ãƒ¼ãƒ‰ç”ŸæˆãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- [x] ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- [x] è¨­å®šãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®åˆæœŸçŠ¶æ…‹ãƒ†ã‚¹ãƒˆ (TC-001)
- [x] ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºå¤‰æ›´ãƒ†ã‚¹ãƒˆ (TC-002, TC-004, TC-015)
- [x] ãƒ†ãƒ¼ãƒãƒ¢ãƒ¼ãƒ‰å¤‰æ›´ãƒ†ã‚¹ãƒˆ (TC-005, TC-006, TC-007, TC-016)
- [x] è¨­å®šæ°¸ç¶šåŒ–ãƒ†ã‚¹ãƒˆ (TC-008, TC-009)
- [x] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ (TC-011, TC-012, TC-014)

**å®Ÿè£…è¨˜éŒ²**: `docs/implements/kotonoha/TASK-0013/`

---

### Day 14: Hiveãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### TASK-0014: Hiveãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ»ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«å®Ÿè£…
- [x] **ã‚¿ã‚¹ã‚¯å®Œäº†** âœ… å®Œäº† (2025-11-21) - TDDé–‹ç™ºå®Œäº† (28ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹å…¨é€šéã€è¦ä»¶ç¶²ç¾…ç‡100%)

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- REQ-601: å±¥æ­´ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç«¯æœ«å†…ã«ä¿å­˜
- REQ-5003: ãƒ‡ãƒ¼ã‚¿æ°¸ç¶šåŒ–æ©Ÿæ§‹ã‚’å®Ÿè£…

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0013

**å®Ÿè£…è©³ç´°**:

1. **Hiveã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãƒ»ãƒ¢ãƒ‡ãƒ«å®Ÿè£…**:
   - `lib/shared/models/history_item.dart`:
   ```dart
   import 'package:hive/hive.dart';

   part 'history_item.g.dart';

   @HiveType(typeId: 0)
   class HistoryItem {
     @HiveField(0)
     final String id;

     @HiveField(1)
     final String text;

     @HiveField(2)
     final DateTime createdAt;

     @HiveField(3)
     final bool isFavorite;

     HistoryItem({
       required this.id,
       required this.text,
       required this.createdAt,
       this.isFavorite = false,
     });
   }
   ```

   - `lib/shared/models/preset_phrase.dart`:
   ```dart
   import 'package:hive/hive.dart';

   part 'preset_phrase.g.dart';

   @HiveType(typeId: 1)
   class PresetPhrase {
     @HiveField(0)
     final String id;

     @HiveField(1)
     final String text;

     @HiveField(2)
     final String category;

     @HiveField(3)
     final bool isFavorite;

     @HiveField(4)
     final int order;

     PresetPhrase({
       required this.id,
       required this.text,
       required this.category,
       this.isFavorite = false,
       required this.order,
     });
   }
   ```

2. **HiveåˆæœŸåŒ–**:
   - `lib/core/utils/hive_init.dart`:
   ```dart
   import 'package:hive_flutter/hive_flutter.dart';
   import 'package:kotonoha_app/shared/models/history_item.dart';
   import 'package:kotonoha_app/shared/models/preset_phrase.dart';

   Future<void> initHive() async {
     await Hive.initFlutter();

     // ã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ç™»éŒ²
     Hive.registerAdapter(HistoryItemAdapter());
     Hive.registerAdapter(PresetPhraseAdapter());

     // ãƒœãƒƒã‚¯ã‚¹ã‚ªãƒ¼ãƒ—ãƒ³
     await Hive.openBox<HistoryItem>('history');
     await Hive.openBox<PresetPhrase>('presetPhrases');
   }
   ```

3. **main.dartã«çµ±åˆ**:
   - `lib/main.dart`ã‚’æ›´æ–°:
   ```dart
   void main() async {
     WidgetsFlutterBinding.ensureInitialized();

     await initHive();

     runApp(const ProviderScope(child: KotonohaApp()));
   }
   ```

4. **ã‚³ãƒ¼ãƒ‰ç”Ÿæˆ**:
   - `flutter pub run build_runner build --delete-conflicting-outputs`

5. **ãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `test/shared/models/history_item_test.dart`:
   ```dart
   import 'package:flutter_test/flutter_test.dart';
   import 'package:hive_flutter/hive_flutter.dart';
   import 'package:kotonoha_app/shared/models/history_item.dart';

   void main() {
     setUp(() async {
       await Hive.initFlutter();
       Hive.registerAdapter(HistoryItemAdapter());
     });

     tearDown(() async {
       await Hive.deleteFromDisk();
     });

     test('HistoryItemã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿', () async {
       final box = await Hive.openBox<HistoryItem>('test_history');

       final item = HistoryItem(
         id: '1',
         text: 'ã‚ã‚ŠãŒã¨ã†',
         createdAt: DateTime.now(),
       );

       await box.put(item.id, item);
       final retrieved = box.get(item.id);

       expect(retrieved!.text, 'ã‚ã‚ŠãŒã¨ã†');
       expect(retrieved.isFavorite, false);

       await box.close();
     });
   }
   ```

**å®Œäº†æ¡ä»¶**:
- Hiveã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- ã‚³ãƒ¼ãƒ‰ç”ŸæˆãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- Hiveãƒœãƒƒã‚¯ã‚¹ãŒæ­£å¸¸ã«ã‚ªãƒ¼ãƒ—ãƒ³ã§ãã‚‹
- ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- HistoryItemã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ
- PresetPhraseã®ä¿å­˜ãƒ»èª­ã¿è¾¼ã¿ãƒ†ã‚¹ãƒˆ
- Hiveãƒœãƒƒã‚¯ã‚¹ã®ã‚ªãƒ¼ãƒ—ãƒ³ãƒ»ã‚¯ãƒ­ãƒ¼ã‚ºãƒ†ã‚¹ãƒˆ

---

### Day 15: go_routerãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š

#### TASK-0015: go_routerãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®šãƒ»ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°å®Ÿè£…
- [ ] å®Œäº†

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-203: ç”»é¢é·ç§»ã‚’å¿…è¦æœ€å°é™ã«ç•™ã‚ã‚‹
- REQ-5005: ã‚¿ãƒƒãƒ—ä¸»ä½“ã®æ“ä½œã§å®Œçµ

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0014

**å®Ÿè£…è©³ç´°**:

1. **ãƒ«ãƒ¼ãƒˆå®šç¾©**:
   - `lib/core/router/app_router.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:go_router/go_router.dart';
   import 'package:riverpod_annotation/riverpod_annotation.dart';

   part 'app_router.g.dart';

   @riverpod
   GoRouter router(RouterRef ref) {
     return GoRouter(
       initialLocation: '/',
       routes: [
         GoRoute(
           path: '/',
           name: 'home',
           builder: (context, state) => const HomeScreen(),
         ),
         GoRoute(
           path: '/settings',
           name: 'settings',
           builder: (context, state) => const SettingsScreen(),
         ),
         GoRoute(
           path: '/history',
           name: 'history',
           builder: (context, state) => const HistoryScreen(),
         ),
         GoRoute(
           path: '/favorites',
           name: 'favorites',
           builder: (context, state) => const FavoritesScreen(),
         ),
       ],
       errorBuilder: (context, state) => ErrorScreen(error: state.error),
     );
   }
   ```

2. **ç”»é¢ã‚¹ã‚±ãƒ«ãƒˆãƒ³ä½œæˆ**:
   - `lib/features/character_board/presentation/home_screen.dart`:
   ```dart
   import 'package:flutter/material.dart';

   class HomeScreen extends StatelessWidget {
     const HomeScreen({super.key});

     @override
     Widget build(BuildContext context) {
       return Scaffold(
         appBar: AppBar(title: const Text('kotonoha')),
         body: const Center(child: Text('ãƒ›ãƒ¼ãƒ ç”»é¢')),
       );
     }
   }
   ```

   - åŒæ§˜ã«`SettingsScreen`ã€`HistoryScreen`ã€`FavoritesScreen`ã€`ErrorScreen`ã‚’ä½œæˆ

3. **ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `test/core/router/app_router_test.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:flutter_test/flutter_test.dart';
   import 'package:flutter_riverpod/flutter_riverpod.dart';
   import 'package:go_router/go_router.dart';
   import 'package:kotonoha_app/core/router/app_router.dart';

   void main() {
     testWidgets('åˆæœŸãƒ«ãƒ¼ãƒˆãŒ/ã§ã‚ã‚‹ã“ã¨', (tester) async {
       final container = ProviderContainer();
       final router = container.read(routerProvider);

       await tester.pumpWidget(
         MaterialApp.router(
           routerConfig: router,
         ),
       );

       expect(find.text('ãƒ›ãƒ¼ãƒ ç”»é¢'), findsOneWidget);
     });

     testWidgets('/settingsã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³', (tester) async {
       final container = ProviderContainer();
       final router = container.read(routerProvider);

       await tester.pumpWidget(
         MaterialApp.router(
           routerConfig: router,
         ),
       );

       router.go('/settings');
       await tester.pumpAndSettle();

       expect(find.text('è¨­å®šç”»é¢'), findsOneWidget);
     });
   }
   ```

**å®Œäº†æ¡ä»¶**:
- go_routerãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹
- ä¸»è¦ç”»é¢ï¼ˆãƒ›ãƒ¼ãƒ ã€è¨­å®šã€å±¥æ­´ã€ãŠæ°—ã«å…¥ã‚Šï¼‰ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒå‹•ä½œã™ã‚‹
- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- åˆæœŸãƒ«ãƒ¼ãƒˆç¢ºèªãƒ†ã‚¹ãƒˆ
- å„ç”»é¢ã¸ã®ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒ©ãƒ¼ãƒšãƒ¼ã‚¸è¡¨ç¤ºãƒ†ã‚¹ãƒˆ

---

## Week 4: å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ»ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å®Ÿè£…

### Day 16: ãƒ†ãƒ¼ãƒå®Ÿè£…ï¼ˆãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ãƒ»é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆï¼‰

#### TASK-0016: ãƒ†ãƒ¼ãƒå®Ÿè£…ï¼ˆãƒ©ã‚¤ãƒˆãƒ»ãƒ€ãƒ¼ã‚¯ãƒ»é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆï¼‰
- [ ] å®Œäº†

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- REQ-803: 3ã¤ã®ãƒ†ãƒ¼ãƒã‚’æä¾›
- REQ-5006: é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰ã§WCAG 2.1 AAãƒ¬ãƒ™ãƒ«ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0015

**å®Ÿè£…è©³ç´°**:

1. **ãƒ©ã‚¤ãƒˆãƒ†ãƒ¼ãƒå®Ÿè£…**:
   - `lib/core/themes/light_theme.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:kotonoha_app/core/constants/app_colors.dart';
   import 'package:kotonoha_app/core/constants/app_sizes.dart';

   final ThemeData lightTheme = ThemeData(
     brightness: Brightness.light,
     colorScheme: ColorScheme.light(
       primary: AppColors.primaryLight,
       background: AppColors.backgroundLight,
       error: AppColors.emergency,
     ),
     textTheme: TextTheme(
       bodyLarge: TextStyle(fontSize: AppSizes.fontSizeMedium),
       bodyMedium: TextStyle(fontSize: AppSizes.fontSizeMedium),
       titleLarge: TextStyle(fontSize: AppSizes.fontSizeLarge),
     ),
     elevatedButtonTheme: ElevatedButtonThemeData(
       style: ElevatedButton.styleFrom(
         minimumSize: Size(
           AppSizes.recommendedTapTarget,
           AppSizes.recommendedTapTarget,
         ),
       ),
     ),
   );
   ```

2. **ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒå®Ÿè£…**:
   - `lib/core/themes/dark_theme.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:kotonoha_app/core/constants/app_colors.dart';

   final ThemeData darkTheme = ThemeData(
     brightness: Brightness.dark,
     colorScheme: ColorScheme.dark(
       primary: AppColors.primaryDark,
       background: AppColors.backgroundDark,
       error: AppColors.emergency,
     ),
     // ãƒ©ã‚¤ãƒˆãƒ†ãƒ¼ãƒã¨åŒæ§˜ã®è¨­å®š
   );
   ```

3. **é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ†ãƒ¼ãƒå®Ÿè£…**:
   - `lib/core/themes/high_contrast_theme.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:kotonoha_app/core/constants/app_colors.dart';

   final ThemeData highContrastTheme = ThemeData(
     brightness: Brightness.light,
     colorScheme: ColorScheme.light(
       primary: AppColors.primaryHighContrast,
       background: AppColors.backgroundHighContrast,
       onBackground: Colors.black,
       error: AppColors.emergency,
     ),
     // WCAG 2.1 AAæº–æ‹ ã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”è¨­å®š
   );
   ```

4. **ãƒ†ãƒ¼ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼å®Ÿè£…**:
   - `lib/core/themes/theme_provider.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:riverpod_annotation/riverpod_annotation.dart';
   import 'package:kotonoha_app/features/settings/providers/settings_provider.dart';
   import 'light_theme.dart';
   import 'dark_theme.dart';
   import 'high_contrast_theme.dart';

   part 'theme_provider.g.dart';

   @riverpod
   ThemeData currentTheme(CurrentThemeRef ref) {
     final settings = ref.watch(settingsNotifierProvider).value;

     switch (settings?.themeMode) {
       case ThemeMode.dark:
         return darkTheme;
       case ThemeMode.highContrast:
         return highContrastTheme;
       case ThemeMode.light:
       default:
         return lightTheme;
     }
   }
   ```

5. **ãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `test/core/themes/theme_test.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:flutter_test/flutter_test.dart';
   import 'package:kotonoha_app/core/themes/light_theme.dart';
   import 'package:kotonoha_app/core/themes/high_contrast_theme.dart';

   void main() {
     test('ãƒ©ã‚¤ãƒˆãƒ†ãƒ¼ãƒã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”', () {
       final background = lightTheme.colorScheme.background;
       final onBackground = lightTheme.colorScheme.onBackground;

       // ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”è¨ˆç®—ã®ãƒ†ã‚¹ãƒˆï¼ˆç°¡æ˜“ç‰ˆï¼‰
       expect(background, isNotNull);
       expect(onBackground, isNotNull);
     });

     test('é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ†ãƒ¼ãƒã®ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ãŒWCAG AAæº–æ‹ ', () {
       // ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”4.5:1ä»¥ä¸Šã‚’ç¢ºèª
       final background = highContrastTheme.colorScheme.background;
       final onBackground = highContrastTheme.colorScheme.onBackground;

       expect(background.computeLuminance(), greaterThan(0.8));
       expect(onBackground.computeLuminance(), lessThan(0.2));
     });
   }
   ```

**å®Œäº†æ¡ä»¶**:
- 3ã¤ã®ãƒ†ãƒ¼ãƒãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- é«˜ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ†ãƒ¼ãƒãŒWCAG 2.1 AAæº–æ‹ ã—ã¦ã„ã‚‹
- ãƒ†ãƒ¼ãƒãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- å„ãƒ†ãƒ¼ãƒã®ã‚«ãƒ©ãƒ¼ã‚¹ã‚­ãƒ¼ãƒ ãƒ†ã‚¹ãƒˆ
- ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”è¨ˆç®—ãƒ†ã‚¹ãƒˆ
- ãƒ†ãƒ¼ãƒåˆ‡ã‚Šæ›¿ãˆãƒ†ã‚¹ãƒˆ

---

### Day 17: å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆãƒœã‚¿ãƒ³ãƒ»å…¥åŠ›æ¬„ï¼‰

#### TASK-0017: å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå®Ÿè£…ï¼ˆå¤§ãƒœã‚¿ãƒ³ãƒ»å…¥åŠ›æ¬„ï¼‰
- [ ] å®Œäº†

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- REQ-5001: ã‚¿ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®ã‚µã‚¤ã‚ºã‚’44px Ã— 44pxä»¥ä¸Š
- NFR-202: ãƒœã‚¿ãƒ³ã‚’è¦–èªæ€§ãŒé«˜ãæŠ¼ã—ã‚„ã™ã„ã‚µã‚¤ã‚ºã§è¨­è¨ˆ

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0016

**å®Ÿè£…è©³ç´°**:

1. **å¤§ãƒœã‚¿ãƒ³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå®Ÿè£…**:
   - `lib/shared/widgets/large_button.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:kotonoha_app/core/constants/app_sizes.dart';

   class LargeButton extends StatelessWidget {
     final String label;
     final VoidCallback onPressed;
     final Color? backgroundColor;
     final Color? textColor;
     final double? width;
     final double? height;

     const LargeButton({
       super.key,
       required this.label,
       required this.onPressed,
       this.backgroundColor,
       this.textColor,
       this.width,
       this.height,
     });

     @override
     Widget build(BuildContext context) {
       return SizedBox(
         width: width ?? AppSizes.recommendedTapTarget,
         height: height ?? AppSizes.recommendedTapTarget,
         child: ElevatedButton(
           onPressed: onPressed,
           style: ElevatedButton.styleFrom(
             backgroundColor: backgroundColor,
             foregroundColor: textColor,
             shape: RoundedRectangleBorder(
               borderRadius: BorderRadius.circular(8),
             ),
           ),
           child: Text(
             label,
             style: TextStyle(
               fontSize: AppSizes.fontSizeMedium,
               fontWeight: FontWeight.bold,
             ),
           ),
         ),
       );
     }
   }
   ```

2. **å…¥åŠ›æ¬„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå®Ÿè£…**:
   - `lib/shared/widgets/text_input_field.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:kotonoha_app/core/constants/app_sizes.dart';

   class TextInputField extends StatelessWidget {
     final TextEditingController controller;
     final String? hintText;
     final int? maxLength;
     final VoidCallback? onClear;

     const TextInputField({
       super.key,
       required this.controller,
       this.hintText,
       this.maxLength = 1000,
       this.onClear,
     });

     @override
     Widget build(BuildContext context) {
       return TextField(
         controller: controller,
         maxLength: maxLength,
         maxLines: null,
         style: TextStyle(fontSize: AppSizes.fontSizeLarge),
         decoration: InputDecoration(
           hintText: hintText ?? 'æ–‡å­—ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
           border: OutlineInputBorder(),
           suffixIcon: onClear != null
               ? IconButton(
                   icon: const Icon(Icons.clear),
                   onPressed: onClear,
                   iconSize: AppSizes.minTapTarget,
                 )
               : null,
         ),
       );
     }
   }
   ```

3. **ç·Šæ€¥ãƒœã‚¿ãƒ³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆå®Ÿè£…**:
   - `lib/shared/widgets/emergency_button.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:kotonoha_app/core/constants/app_colors.dart';
   import 'package:kotonoha_app/core/constants/app_sizes.dart';

   class EmergencyButton extends StatelessWidget {
     final VoidCallback onPressed;

     const EmergencyButton({super.key, required this.onPressed});

     @override
     Widget build(BuildContext context) {
       return SizedBox(
         width: AppSizes.recommendedTapTarget,
         height: AppSizes.recommendedTapTarget,
         child: ElevatedButton(
           onPressed: onPressed,
           style: ElevatedButton.styleFrom(
             backgroundColor: AppColors.emergency,
             foregroundColor: Colors.white,
             shape: const CircleBorder(),
           ),
           child: const Icon(Icons.notifications_active, size: 32),
         ),
       );
     }
   }
   ```

4. **ãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `test/shared/widgets/large_button_test.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:flutter_test/flutter_test.dart';
   import 'package:kotonoha_app/shared/widgets/large_button.dart';
   import 'package:kotonoha_app/core/constants/app_sizes.dart';

   void main() {
     testWidgets('LargeButtonã®ã‚µã‚¤ã‚ºãŒæ¨å¥¨å€¤ä»¥ä¸Š', (tester) async {
       await tester.pumpWidget(
         MaterialApp(
           home: Scaffold(
             body: LargeButton(
               label: 'ãƒ†ã‚¹ãƒˆ',
               onPressed: () {},
             ),
           ),
         ),
       );

       final button = tester.widget<SizedBox>(find.byType(SizedBox).first);
       expect(button.width, greaterThanOrEqualTo(AppSizes.minTapTarget));
       expect(button.height, greaterThanOrEqualTo(AppSizes.minTapTarget));
     });

     testWidgets('LargeButtonã®ã‚¿ãƒƒãƒ—ã‚¤ãƒ™ãƒ³ãƒˆ', (tester) async {
       bool tapped = false;

       await tester.pumpWidget(
         MaterialApp(
           home: Scaffold(
             body: LargeButton(
               label: 'ãƒ†ã‚¹ãƒˆ',
               onPressed: () => tapped = true,
             ),
           ),
         ),
       );

       await tester.tap(find.byType(LargeButton));
       expect(tapped, true);
     });
   }
   ```

**å®Œäº†æ¡ä»¶**:
- å¤§ãƒœã‚¿ãƒ³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- å…¥åŠ›æ¬„ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- ç·Šæ€¥ãƒœã‚¿ãƒ³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- ã‚¿ãƒƒãƒ—ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚µã‚¤ã‚ºãŒè¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹
- ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚ºç¢ºèªãƒ†ã‚¹ãƒˆ
- ã‚¿ãƒƒãƒ—ã‚¤ãƒ™ãƒ³ãƒˆå‹•ä½œãƒ†ã‚¹ãƒˆ
- ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ãƒ†ã‚¹ãƒˆ

---

### Day 18: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°å®Ÿè£…ï¼ˆLoggerã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

#### TASK-0018: ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£é–¢æ•°å®Ÿè£…ï¼ˆLoggerã€ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ï¼‰
- [ ] å®Œäº†

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: TDD

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-204: ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åˆ†ã‹ã‚Šã‚„ã™ã„æ—¥æœ¬èªã§è¡¨ç¤º
- NFR-301: é‡å¤§ãªã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã‚‚åŸºæœ¬æ©Ÿèƒ½ã‚’ç¶™ç¶šåˆ©ç”¨å¯èƒ½ã«ä¿ã¤

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0017

**å®Ÿè£…è©³ç´°**:

1. **Loggerãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å®Ÿè£…**:
   - `lib/core/utils/logger.dart`:
   ```dart
   import 'package:logger/logger.dart';

   class AppLogger {
     static final Logger _logger = Logger(
       printer: PrettyPrinter(
         methodCount: 2,
         errorMethodCount: 8,
         lineLength: 120,
         colors: true,
         printEmojis: true,
         printTime: true,
       ),
     );

     static void debug(String message) => _logger.d(message);
     static void info(String message) => _logger.i(message);
     static void warning(String message) => _logger.w(message);
     static void error(String message, [dynamic error, StackTrace? stackTrace]) {
       _logger.e(message, error: error, stackTrace: stackTrace);
     }
   }
   ```

2. **ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å®Ÿè£…**:
   - `lib/core/utils/validators.dart`:
   ```dart
   class Validators {
     static const int maxInputLength = 1000;
     static const int maxPresetPhraseLength = 500;
     static const int minAiConversionLength = 2;

     static String? validateInputText(String? text) {
       if (text == null || text.isEmpty) {
         return null;  // ç©ºã¯è¨±å¯
       }
       if (text.length > maxInputLength) {
         return 'å…¥åŠ›ã¯${maxInputLength}æ–‡å­—ä»¥å†…ã«ã—ã¦ãã ã•ã„';
       }
       return null;
     }

     static String? validatePresetPhrase(String? text) {
       if (text == null || text.isEmpty) {
         return 'å®šå‹æ–‡ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„';
       }
       if (text.length > maxPresetPhraseLength) {
         return 'å®šå‹æ–‡ã¯${maxPresetPhraseLength}æ–‡å­—ä»¥å†…ã«ã—ã¦ãã ã•ã„';
       }
       return null;
     }

     static bool canConvertWithAi(String text) {
       return text.length >= minAiConversionLength;
     }
   }
   ```

3. **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£å®Ÿè£…**:
   - `lib/core/utils/error_handler.dart`:
   ```dart
   import 'package:flutter/material.dart';
   import 'package:kotonoha_app/core/utils/logger.dart';

   class ErrorHandler {
     static void handleError(
       BuildContext context,
       dynamic error,
       StackTrace? stackTrace, {
       String? userMessage,
     }) {
       AppLogger.error('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ', error, stackTrace);

       final message = userMessage ?? _getErrorMessage(error);

       ScaffoldMessenger.of(context).showSnackBar(
         SnackBar(
           content: Text(message),
           backgroundColor: Colors.red,
           action: SnackBarAction(
             label: 'é–‰ã˜ã‚‹',
             textColor: Colors.white,
             onPressed: () {},
           ),
         ),
       );
     }

     static String _getErrorMessage(dynamic error) {
       if (error is NetworkException) {
         return 'ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚æ¥ç¶šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚';
       }
       if (error is TimeoutException) {
         return 'é€šä¿¡ãŒã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãŠè©¦ã—ãã ã•ã„ã€‚';
       }
       return 'äºˆæœŸã—ãªã„ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚';
     }
   }

   class NetworkException implements Exception {
     final String message;
     NetworkException(this.message);
   }

   class TimeoutException implements Exception {
     final String message;
     TimeoutException(this.message);
   }
   ```

4. **ãƒ†ã‚¹ãƒˆå®Ÿè£…**:
   - `test/core/utils/validators_test.dart`:
   ```dart
   import 'package:flutter_test/flutter_test.dart';
   import 'package:kotonoha_app/core/utils/validators.dart';

   void main() {
     group('Validators', () {
       test('ç©ºæ–‡å­—ã¯validateInputTextã§nullã‚’è¿”ã™', () {
         expect(Validators.validateInputText(''), null);
         expect(Validators.validateInputText(null), null);
       });

       test('1000æ–‡å­—ã‚’è¶…ãˆã‚‹ã¨ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™', () {
         final longText = 'ã‚' * 1001;
         final result = Validators.validateInputText(longText);
         expect(result, isNotNull);
         expect(result, contains('1000æ–‡å­—ä»¥å†…'));
       });

       test('AIå¤‰æ›ã¯2æ–‡å­—ä»¥ä¸Šã§å¯èƒ½', () {
         expect(Validators.canConvertWithAi('ã‚'), false);
         expect(Validators.canConvertWithAi('ã‚ã‚'), true);
       });
     });
   }
   ```

**å®Œäº†æ¡ä»¶**:
- Loggerãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- ãƒ†ã‚¹ãƒˆãŒå…¨ã¦æˆåŠŸã™ã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**:
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°ã®ãƒ†ã‚¹ãƒˆ
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç”Ÿæˆãƒ†ã‚¹ãƒˆ
- Loggerå‡ºåŠ›ãƒ†ã‚¹ãƒˆ

---

### Day 19: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­å®šï¼ˆGitHub Actionsï¼‰

#### TASK-0019: CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³è¨­å®šï¼ˆGitHub Actionsï¼‰
- [ ] å®Œäº†

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-501: ã‚³ãƒ¼ãƒ‰ã‚«ãƒãƒ¬ãƒƒã‚¸80%ä»¥ä¸Šã®ãƒ†ã‚¹ãƒˆ
- NFR-503: Flutter lintsã€Ruff + Blackæº–æ‹ ã®ã‚³ãƒ¼ãƒ‰å“è³ª

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0018

**å®Ÿè£…è©³ç´°**:

1. **Flutter CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ**:
   - `.github/workflows/flutter.yml`:
   ```yaml
   name: Flutter CI

   on:
     push:
       branches: [main, develop]
     pull_request:
       branches: [main, develop]

   jobs:
     test:
       runs-on: ubuntu-latest

       steps:
         - uses: actions/checkout@v4

         - name: Setup Flutter
           uses: subosito/flutter-action@v2
           with:
             flutter-version: '3.38.1'
             channel: 'stable'

         - name: Install dependencies
           working-directory: ./frontend/kotonoha_app
           run: flutter pub get

         - name: Run code generation
           working-directory: ./frontend/kotonoha_app
           run: flutter pub run build_runner build --delete-conflicting-outputs

         - name: Analyze code
           working-directory: ./frontend/kotonoha_app
           run: flutter analyze

         - name: Run tests
           working-directory: ./frontend/kotonoha_app
           run: flutter test --coverage

         - name: Upload coverage
           uses: codecov/codecov-action@v4
           with:
             files: ./frontend/kotonoha_app/coverage/lcov.info
             flags: flutter
   ```

2. **Python CI/CDãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä½œæˆ**:
   - `.github/workflows/python.yml`:
   ```yaml
   name: Python CI

   on:
     push:
       branches: [main, develop]
     pull_request:
       branches: [main, develop]

   jobs:
     test:
       runs-on: ubuntu-latest

       services:
         postgres:
           image: postgres:15
           env:
             POSTGRES_USER: test_user
             POSTGRES_PASSWORD: test_password
             POSTGRES_DB: test_db
           options: >-
             --health-cmd pg_isready
             --health-interval 10s
             --health-timeout 5s
             --health-retries 5
           ports:
             - 5432:5432

       steps:
         - uses: actions/checkout@v4

         - name: Setup Python
           uses: actions/setup-python@v5
           with:
             python-version: '3.10'

         - name: Install dependencies
           working-directory: ./backend
           run: |
             pip install -r requirements.txt

         - name: Run Ruff lint
           working-directory: ./backend
           run: ruff check app tests

         - name: Run Black format check
           working-directory: ./backend
           run: black --check app tests

         - name: Run tests
           working-directory: ./backend
           env:
             DATABASE_URL: postgresql+asyncpg://test_user:test_password@localhost:5432/test_db
           run: pytest --cov=app --cov-report=xml

         - name: Upload coverage
           uses: codecov/codecov-action@v4
           with:
             files: ./backend/coverage.xml
             flags: python
   ```

3. **ä¾å­˜é–¢ä¿‚æ›´æ–°ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼**:
   - `.github/dependabot.yml`:
   ```yaml
   version: 2
   updates:
     - package-ecosystem: "pub"
       directory: "/frontend/kotonoha_app"
       schedule:
         interval: "weekly"

     - package-ecosystem: "pip"
       directory: "/backend"
       schedule:
         interval: "weekly"

     - package-ecosystem: "github-actions"
       directory: "/"
       schedule:
         interval: "weekly"
   ```

4. **å‹•ä½œç¢ºèª**:
   - GitHubä¸Šã§ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå®Ÿè¡Œã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - Pull Requestä½œæˆæ™‚ã«ãƒã‚§ãƒƒã‚¯ãŒèµ°ã‚‹ã“ã¨ã‚’ç¢ºèª

**å®Œäº†æ¡ä»¶**:
- GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ãŒFlutterã€Pythonãã‚Œãã‚Œå­˜åœ¨ã™ã‚‹
- ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹
- ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãŒè¨ˆæ¸¬ãƒ»ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹
- Lintãƒã‚§ãƒƒã‚¯ãŒå®Ÿè¡Œã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

### Day 20: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

#### TASK-0020: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™ãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ä½œæˆ
- [ ] å®Œäº†

**æ¨å®šå·¥æ•°**: 8æ™‚é–“

**ã‚¿ã‚¹ã‚¯ã‚¿ã‚¤ãƒ—**: DIRECT

**è¦ä»¶å**: kotonoha

**é–¢é€£è¦ä»¶**:
- NFR-205: ã‚¬ã‚¤ãƒ‰ä»˜ãã‚¢ã‚¯ã‚»ã‚¹ã®è¨­å®šæ–¹æ³•ã‚’ã‚¢ãƒ—ãƒªå†…ãƒ˜ãƒ«ãƒ—ã§èª¬æ˜

**ä¾å­˜ã‚¿ã‚¹ã‚¯**: TASK-0019

**å®Ÿè£…è©³ç´°**:

1. **README.mdæ›´æ–°**:
   - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ`README.md`ã‚’åŒ…æ‹¬çš„ã«æ›´æ–°:
   ```markdown
   # kotonoha - æ–‡å­—ç›¤ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ”¯æ´ã‚¢ãƒ—ãƒª

   ## æ¦‚è¦
   ç™ºè©±å›°é›£ãªæ–¹ãŒã€Œã§ãã‚‹ã ã‘å°‘ãªã„æ“ä½œã§ã€è‡ªåˆ†ã®è¨€ã„ãŸã„ã“ã¨ã‚’ã€é©åˆ‡ãªä¸å¯§ã•ã§ã€å®‰å…¨ã«ä¼ãˆã‚‰ã‚Œã‚‹ã€ã“ã¨ã‚’ç›®çš„ã¨ã—ãŸã‚¿ãƒ–ãƒ¬ãƒƒãƒˆå‘ã‘ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³æ”¯æ´ã‚¢ãƒ—ãƒªã€‚

   ## æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
   - **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: Flutter 3.38.1
   - **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: FastAPI 0.121
   - **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQL 15
   - **çŠ¶æ…‹ç®¡ç†**: Riverpod 2.x
   - **ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸**: Hive

   ## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

   ### å‰ææ¡ä»¶
   - Docker & Docker Compose
   - Flutter SDK 3.38.1ä»¥ä¸Š
   - Python 3.10ä»¥ä¸Š

   ### 1. ãƒªãƒã‚¸ãƒˆãƒªã‚¯ãƒ­ãƒ¼ãƒ³
   ```bash
   git clone https://github.com/yourusername/kotonoha.git
   cd kotonoha
   ```

   ### 2. ç’°å¢ƒå¤‰æ•°è¨­å®š
   ```bash
   cp .env.example .env
   # .envãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†
   ```

   ### 3. Dockerç’°å¢ƒèµ·å‹•
   ```bash
   docker-compose up -d
   ```

   ### 4. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
   ```bash
   cd backend
   alembic upgrade head
   ```

   ### 5. Flutterã‚¢ãƒ—ãƒªèµ·å‹•
   ```bash
   cd frontend/kotonoha_app
   flutter pub get
   flutter run -d chrome
   ```

   ## é–‹ç™ºã‚¬ã‚¤ãƒ‰
   - [ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰](./CONTRIBUTING.md)
   - [APIä»•æ§˜æ›¸](http://localhost:8000/docs)
   - [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](./docs/design/kotonoha/architecture.md)
   ```

2. **CONTRIBUTING.mdä½œæˆ**:
   - ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã€ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®ä½œæˆæ–¹æ³•ãªã©ã‚’è¨˜è¼‰

3. **é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰ä½œæˆ**:
   - `docs/SETUP.md`:
   ```markdown
   # é–‹ç™ºç’°å¢ƒã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

   ## ç›®æ¬¡
   1. Dockerç’°å¢ƒæ§‹ç¯‰
   2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºç’°å¢ƒ
   3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºç’°å¢ƒ
   4. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

   ## 1. Dockerç’°å¢ƒæ§‹ç¯‰
   ï¼ˆè©³ç´°æ‰‹é †ï¼‰

   ## 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™ºç’°å¢ƒ
   ï¼ˆPythonä»®æƒ³ç’°å¢ƒã€Alembicã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãªã©ï¼‰

   ## 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºç’°å¢ƒ
   ï¼ˆFlutter SDKã€ã‚³ãƒ¼ãƒ‰ç”Ÿæˆã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œãªã©ï¼‰

   ## 4. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°
   ï¼ˆã‚ˆãã‚ã‚‹å•é¡Œã¨è§£æ±ºç­–ï¼‰
   ```

4. **APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”Ÿæˆç¢ºèª**:
   - FastAPIã®Swagger UIãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª
   - http://localhost:8000/docs

5. **å¤‰æ›´å±¥æ­´ä½œæˆ**:
   - `CHANGELOG.md`ä½œæˆ:
   ```markdown
   # Changelog

   ## [Unreleased]

   ## [0.1.0] - 2025-11-19
   ### Added
   - é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ï¼ˆDockerã€PostgreSQLã€FastAPIã€Flutterï¼‰
   - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆAlembicï¼‰
   - FlutteråŸºç›¤ï¼ˆRiverpodã€Hiveã€go_routerï¼‰
   - å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
   - CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼ˆGitHub Actionsï¼‰
   ```

**å®Œäº†æ¡ä»¶**:
- README.mdãŒåŒ…æ‹¬çš„ã«æ›´æ–°ã•ã‚Œã¦ã„ã‚‹
- CONTRIBUTING.mdãŒå­˜åœ¨ã™ã‚‹
- docs/SETUP.mdãŒå­˜åœ¨ã—ã€ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †ãŒæ˜ç¢ºã«è¨˜è¼‰ã•ã‚Œã¦ã„ã‚‹
- CHANGELOG.mdãŒå­˜åœ¨ã™ã‚‹
- APIãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼ˆSwagger UIï¼‰ãŒæ­£å¸¸ã«è¡¨ç¤ºã•ã‚Œã‚‹

**ãƒ†ã‚¹ãƒˆè¦ä»¶**: ãªã—ï¼ˆDIRECTï¼‰

---

## Phase 1 å®Œäº†åŸºæº–

### å¿…é ˆæ¡ä»¶
- [ ] ã™ã¹ã¦ã®ã‚¿ã‚¹ã‚¯ï¼ˆTASK-0001ã€œTASK-0020ï¼‰ãŒå®Œäº†ã—ã¦ã„ã‚‹
- [ ] Dockerç’°å¢ƒã§PostgreSQLã€FastAPIãŒèµ·å‹•ã™ã‚‹
- [ ] ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã‚‹
- [ ] Flutterã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã€åŸºæœ¬çš„ãªãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œã™ã‚‹
- [ ] CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ãŒGitHub Actionsã§å‹•ä½œã™ã‚‹
- [ ] ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ãŒ80%ä»¥ä¸Šï¼ˆå¯èƒ½ãªç¯„å›²ã§ï¼‰

### æˆæœç‰©ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ
- [ ] docker-compose.ymlãŒå­˜åœ¨ã—ã€å…¨ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã™ã‚‹
- [ ] database-schema.sqlãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- [ ] Alembicãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ãŒå­˜åœ¨ã™ã‚‹
- [ ] FlutteråŸºæœ¬æ§‹é€ ï¼ˆRiverpodã€Hiveã€go_routerï¼‰ãŒå‹•ä½œã™ã‚‹
- [ ] å…±é€šUIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆãƒœã‚¿ãƒ³ã€å…¥åŠ›æ¬„ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹
- [ ] README.mdã€SETUP.mdã€CONTRIBUTING.mdãŒå­˜åœ¨ã™ã‚‹
- [ ] GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒå‹•ä½œã™ã‚‹

### æ¬¡ãƒ•ã‚§ãƒ¼ã‚ºã¸ã®å¼•ãç¶™ãäº‹é …
- ç’°å¢ƒå¤‰æ•°ã®è¨­å®šæ–¹æ³•
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæƒ…å ±
- CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®ä½¿ç”¨æ–¹æ³•
- ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„

---

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è¦ä»¶å®šç¾©æ›¸](../../spec/kotonoha-requirements.md)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](../../design/kotonoha/architecture.md)
- [ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ](../../design/kotonoha/database-schema.sql)
- [æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯å®šç¾©](../../tech-stack.md)
- [ã‚¿ã‚¹ã‚¯å®Ÿè£…è¨ˆç”» - å…¨ä½“æ¦‚è¦](./kotonoha-overview.md)

---

## æ›´æ–°å±¥æ­´

- **2025-11-19**: Phase 1ã‚¿ã‚¹ã‚¯ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
- **2025-11-19**: ã‚¿ã‚¹ã‚¯æ¤œè¨¼å®Œäº†ï¼ˆtsumiki:kairo-task-verify ã«ã‚ˆã‚Šæ›´æ–°ï¼‰
  - ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¿½åŠ 
